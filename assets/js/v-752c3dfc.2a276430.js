(self.webpackChunklaravel_study=self.webpackChunklaravel_study||[]).push([[52],{2927:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>p});const p={key:"v-752c3dfc",path:"/collections/demo/format_two_array.html",title:"格式化计算两个数组的数据",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"使用foreach",slug:"使用foreach",children:[]},{level:2,title:"使用 zip、first 和 last 方法",slug:"使用-zip、first-和-last-方法",children:[]}],filePathRelative:"collections/demo/format_two_array.md",git:{updatedTime:1617072411e3,contributors:[]}}},5527:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var p=a(6252);const e=(0,p.uE)('<h1 id="格式化计算两个数组的数据"><a class="header-anchor" href="#格式化计算两个数组的数据">#</a> 格式化计算两个数组的数据</h1><p>有如下两组数据分别代表去年的营收和今年的营收，求每个月的盈亏情况。</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$lastYear</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token number">6345.75</span><span class="token punctuation">,</span>\n    <span class="token number">9839.45</span><span class="token punctuation">,</span>\n    <span class="token number">7134.60</span><span class="token punctuation">,</span>\n    <span class="token number">9479.50</span><span class="token punctuation">,</span>\n    <span class="token number">9928.0</span><span class="token punctuation">,</span>\n    <span class="token number">8652.00</span><span class="token punctuation">,</span>\n    <span class="token number">7658.40</span><span class="token punctuation">,</span>\n    <span class="token number">10245.40</span><span class="token punctuation">,</span>\n    <span class="token number">7889.40</span><span class="token punctuation">,</span>\n    <span class="token number">3892.40</span><span class="token punctuation">,</span>\n    <span class="token number">3638.40</span><span class="token punctuation">,</span>\n    <span class="token number">2339.40</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token variable">$thisYear</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token number">6145.75</span><span class="token punctuation">,</span>\n    <span class="token number">6895.00</span><span class="token punctuation">,</span>\n    <span class="token number">3434.00</span><span class="token punctuation">,</span>\n    <span class="token number">9349350</span><span class="token punctuation">,</span>\n    <span class="token number">9478.60</span><span class="token punctuation">,</span>\n    <span class="token number">7652.80</span><span class="token punctuation">,</span>\n    <span class="token number">4758.40</span><span class="token punctuation">,</span>\n    <span class="token number">10945.40</span><span class="token punctuation">,</span>\n    <span class="token number">3689.40</span><span class="token punctuation">,</span>\n    <span class="token number">8992.40</span><span class="token punctuation">,</span>\n    <span class="token number">7588.40</span><span class="token punctuation">,</span>\n    <span class="token number">2239.40</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="使用foreach"><a class="header-anchor" href="#使用foreach">#</a> 使用foreach</h2><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code>\n<span class="token variable">$lastYear</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token number">6345.75</span><span class="token punctuation">,</span>\n  <span class="token number">9839.45</span><span class="token punctuation">,</span>\n  <span class="token number">7134.6</span><span class="token punctuation">,</span>\n  <span class="token number">9479.5</span><span class="token punctuation">,</span>\n  <span class="token number">9928.0</span><span class="token punctuation">,</span>\n  <span class="token number">8652.0</span><span class="token punctuation">,</span>\n  <span class="token number">7658.4</span><span class="token punctuation">,</span>\n  <span class="token number">10245.4</span><span class="token punctuation">,</span>\n  <span class="token number">7889.4</span><span class="token punctuation">,</span>\n  <span class="token number">3892.4</span><span class="token punctuation">,</span>\n  <span class="token number">3638.4</span><span class="token punctuation">,</span>\n  <span class="token number">2339.4</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token variable">$thisYear</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token number">6145.75</span><span class="token punctuation">,</span>\n  <span class="token number">6895.0</span><span class="token punctuation">,</span>\n  <span class="token number">3434.0</span><span class="token punctuation">,</span>\n  <span class="token number">9349350</span><span class="token punctuation">,</span>\n  <span class="token number">9478.6</span><span class="token punctuation">,</span>\n  <span class="token number">7652.8</span><span class="token punctuation">,</span>\n  <span class="token number">4758.4</span><span class="token punctuation">,</span>\n  <span class="token number">10945.4</span><span class="token punctuation">,</span>\n  <span class="token number">3689.4</span><span class="token punctuation">,</span>\n  <span class="token number">8992.4</span><span class="token punctuation">,</span>\n  <span class="token number">7588.4</span><span class="token punctuation">,</span>\n  <span class="token number">2239.4</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token variable">$profit</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$thisYear</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token variable">$monthly</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token variable">$profit</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$monthly</span> <span class="token operator">-</span> <span class="token variable">$lastYear</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token function">dd</span><span class="token punctuation">(</span><span class="token variable">$profit</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token doc-comment comment">/**\narray:12 [\n  0 =&gt; -200.0\n  1 =&gt; -2944.45\n  2 =&gt; -3700.6\n  3 =&gt; 9339870.5\n  4 =&gt; -449.4\n  5 =&gt; -999.2\n  6 =&gt; -2900.0\n  7 =&gt; 700.0\n  8 =&gt; -4200.0\n  9 =&gt; 5100.0\n  10 =&gt; 3950.0\n  11 =&gt; -100.0\n]\n */</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div>',5),t={id:"使用-zip、first-和-last-方法"},l=(0,p.Wm)("a",{class:"header-anchor",href:"#使用-zip、first-和-last-方法"},"#",-1),c=(0,p.Uk)(" 使用 "),u={href:"/collections/zip.md",target:"_blank",rel:"noopener noreferrer"},r=(0,p.Uk)("zip"),o=(0,p.Uk)("、"),b={href:"/collections/first.md",target:"_blank",rel:"noopener noreferrer"},i=(0,p.Uk)("first"),k=(0,p.Uk)(" 和 "),m=(0,p.Uk)("last"),d=(0,p.Uk)(" 方法"),h=(0,p.uE)('<div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$lastYear</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token number">6345.75</span><span class="token punctuation">,</span>\n  <span class="token number">9839.45</span><span class="token punctuation">,</span>\n  <span class="token number">7134.6</span><span class="token punctuation">,</span>\n  <span class="token number">9479.5</span><span class="token punctuation">,</span>\n  <span class="token number">9928.0</span><span class="token punctuation">,</span>\n  <span class="token number">8652.0</span><span class="token punctuation">,</span>\n  <span class="token number">7658.4</span><span class="token punctuation">,</span>\n  <span class="token number">10245.4</span><span class="token punctuation">,</span>\n  <span class="token number">7889.4</span><span class="token punctuation">,</span>\n  <span class="token number">3892.4</span><span class="token punctuation">,</span>\n  <span class="token number">3638.4</span><span class="token punctuation">,</span>\n  <span class="token number">2339.4</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token variable">$thisYear</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token number">6145.75</span><span class="token punctuation">,</span>\n  <span class="token number">6895.0</span><span class="token punctuation">,</span>\n  <span class="token number">3434.0</span><span class="token punctuation">,</span>\n  <span class="token number">9349350</span><span class="token punctuation">,</span>\n  <span class="token number">9478.6</span><span class="token punctuation">,</span>\n  <span class="token number">7652.8</span><span class="token punctuation">,</span>\n  <span class="token number">4758.4</span><span class="token punctuation">,</span>\n  <span class="token number">10945.4</span><span class="token punctuation">,</span>\n  <span class="token number">3689.4</span><span class="token punctuation">,</span>\n  <span class="token number">8992.4</span><span class="token punctuation">,</span>\n  <span class="token number">7588.4</span><span class="token punctuation">,</span>\n  <span class="token number">2239.4</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token variable">$profit</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token variable">$thisYear</span><span class="token punctuation">)</span>\n  <span class="token operator">-&gt;</span><span class="token function">zip</span><span class="token punctuation">(</span><span class="token variable">$lastYear</span><span class="token punctuation">)</span>\n  <span class="token operator">-&gt;</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$monthly</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token variable">$monthly</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token variable">$monthly</span><span class="token operator">-&gt;</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">dd</span><span class="token punctuation">(</span><span class="token variable">$profit</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token doc-comment comment">/**\nIlluminate\\Support\\Collection <span class="token punctuation">{</span>#1144\n  #items: array:12 [\n    0 =&gt; -200.0\n    1 =&gt; -2944.45\n    2 =&gt; -3700.6\n    3 =&gt; 9339870.5\n    4 =&gt; -449.4\n    5 =&gt; -999.2\n    6 =&gt; -2900.0\n    7 =&gt; 700.0\n    8 =&gt; -4200.0\n    9 =&gt; 5100.0\n    10 =&gt; 3950.0\n    11 =&gt; -100.0\n  ]\n<span class="token punctuation">}</span>\n */</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div>',1),g={render:function(n,s){const a=(0,p.up)("OutboundLink"),g=(0,p.up)("RouterLink");return(0,p.wg)(),(0,p.j4)(p.HY,null,[e,(0,p.Wm)("h2",t,[l,c,(0,p.Wm)("a",u,[r,(0,p.Wm)(a)]),o,(0,p.Wm)("a",b,[i,(0,p.Wm)(a)]),k,(0,p.Wm)(g,{to:"/collections/demo/collections/last.html"},{default:(0,p.w5)((()=>[m])),_:1}),d]),h],64)}}}}]);