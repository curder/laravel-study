(self.webpackChunklaravel_study=self.webpackChunklaravel_study||[]).push([[4477],{2026:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>t});const t={key:"v-d96001d6",path:"/collections/unique.html",title:"unique",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"collections/unique.md",git:{updatedTime:1617071741e3,contributors:[]}}},3416:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>q});var t=a(6252);const p=(0,t.Wm)("h1",{id:"unique"},[(0,t.Wm)("a",{class:"header-anchor",href:"#unique"},"#"),(0,t.Uk)(" unique")],-1),e=(0,t.Uk)("返回集合中所有唯一的项目。返回的集合保留着原数组的键，所以在这个例子中，我们会使用 "),o={href:"/collections/values.md",target:"_blank",rel:"noopener noreferrer"},l=(0,t.Uk)("values"),u=(0,t.Uk)(" 方法来把键重置为连续编号的索引。"),c=(0,t.uE)('<div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token doc-comment comment">/**\n=&gt; Illuminate\\Support\\Collection <span class="token punctuation">{</span>#1076\n     all: [\n       0 =&gt; 1,\n       2 =&gt; 2,\n       4 =&gt; 3,\n       5 =&gt; 4,\n     ],\n   <span class="token punctuation">}</span>\n */</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>处理嵌套数组或对象时，可以指定用来决定唯一性的键</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;iPhone 6&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;phone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;iPhone 5&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;phone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple Watch&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;watch&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Galaxy S6&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Samsung&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;phone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Galaxy Gear&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Samsung&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;watch&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;brand&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\n<span class="token comment">/*\n=&gt; Illuminate\\Support\\Collection {#1119\n     all: [\n       0 =&gt; [\n         &quot;name&quot; =&gt; &quot;iPhone 6&quot;,\n         &quot;brand&quot; =&gt; &quot;Apple&quot;,\n         &quot;type&quot; =&gt; &quot;phone&quot;,\n       ],\n       3 =&gt; [\n         &quot;name&quot; =&gt; &quot;Galaxy S6&quot;,\n         &quot;brand&quot; =&gt; &quot;Samsung&quot;,\n         &quot;type&quot; =&gt; &quot;phone&quot;,\n       ],\n     ],\n   }\n*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>也可以传入自己的回调来确定项目的唯一性：</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;iPhone 6&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;phone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;iPhone 5&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;phone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple Watch&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Apple&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;watch&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Galaxy S6&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Samsung&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;phone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Galaxy Gear&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;brand&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Samsung&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;watch&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;brand&#39;</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;type&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*\n=&gt; Illuminate\\Support\\Collection {#1129\n     all: [\n       0 =&gt; [\n         &quot;name&quot; =&gt; &quot;iPhone 6&quot;,\n         &quot;brand&quot; =&gt; &quot;Apple&quot;,\n         &quot;type&quot; =&gt; &quot;phone&quot;,\n       ],\n       2 =&gt; [\n         &quot;name&quot; =&gt; &quot;Apple Watch&quot;,\n         &quot;brand&quot; =&gt; &quot;Apple&quot;,\n         &quot;type&quot; =&gt; &quot;watch&quot;,\n       ],\n       3 =&gt; [\n         &quot;name&quot; =&gt; &quot;Galaxy S6&quot;,\n         &quot;brand&quot; =&gt; &quot;Samsung&quot;,\n         &quot;type&quot; =&gt; &quot;phone&quot;,\n       ],\n       4 =&gt; [\n         &quot;name&quot; =&gt; &quot;Galaxy Gear&quot;,\n         &quot;brand&quot; =&gt; &quot;Samsung&quot;,\n         &quot;type&quot; =&gt; &quot;watch&quot;,\n       ],\n     ],\n   }\n*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div>',5),r=(0,t.Wm)("p",null,[(0,t.Uk)("在检查项目值时 "),(0,t.Wm)("code",null,"unique"),(0,t.Uk)(" 方法使用的是「宽松」比较，意味着具有整数值的字符串将被视为等于相同值的整数。")],-1),i=(0,t.Uk)("使用 "),g={href:"/collections/uniqueStrict.md",target:"_blank",rel:"noopener noreferrer"},k=(0,t.Uk)("uniqueStrict"),b=(0,t.Uk)(" 可以进行「严格」比较 。"),q={render:function(n,s){const a=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.j4)(t.HY,null,[p,(0,t.Wm)("p",null,[e,(0,t.Wm)("a",o,[l,(0,t.Wm)(a)]),u]),c,(0,t.Wm)("blockquote",null,[r,(0,t.Wm)("p",null,[i,(0,t.Wm)("a",g,[k,(0,t.Wm)(a)]),b])])],64)}}}}]);