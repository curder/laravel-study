(self.webpackChunklaravel_study=self.webpackChunklaravel_study||[]).push([[5072],{4883:(e,n,a)=>{"use strict";a.r(n),a.d(n,{data:()=>s});const s={key:"v-c0bbb4e4",path:"/others/laravel_is_involved_in_the_modification_of_the_authentication_jump_address.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"Laravel中涉及认证跳转地址的修改的地方",slug:"laravel中涉及认证跳转地址的修改的地方",children:[]}],filePathRelative:"others/laravel_is_involved_in_the_modification_of_the_authentication_jump_address.md",git:{updatedTime:1617168163e3,contributors:[]}}},5744:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>t});const s=(0,a(6252).uE)('<h2 id="laravel中涉及认证跳转地址的修改的地方"><a class="header-anchor" href="#laravel中涉及认证跳转地址的修改的地方">#</a> Laravel中涉及认证跳转地址的修改的地方</h2><p>登录后跳转：</p><p>在<code>app\\Http\\Auth\\LoginController.php</code>中修改</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>protected $redirectTo = &#39;/home&#39;;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>已登录，访问登录接口时跳转：</p><p>修改<code>app\\Http\\Middleware\\RedirectIfAuthenticated.php</code>中的<code>handle()</code>方法：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> public function handle($request, Closure $next, $guard = null)\n {\n   if (Auth::guard($guard)-&gt;check()) {\n       return redirect(&#39;/home&#39;);\n   }\n   \n   return $next($request);\n }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>未登录访问需要登录页面时的跳转</p><p>修改<code>app\\Http\\Exceptions\\Handler.php</code>中的<code>unauthenticated()</code>方法：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>protected function unauthenticated($request, AuthenticationException $exception)\n{\n    if ($request-&gt;expectsJson()) {\n        return response()-&gt;json([&#39;error&#39; =&gt; &#39;Unauthenticated.&#39;], 401);\n    }\n    return redirect()-&gt;guest(route(&#39;login&#39;));\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>',10),t={render:function(e,n){return s}}}}]);