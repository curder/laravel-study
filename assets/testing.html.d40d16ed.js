import{r as o,o as l,c as u,b as n,a,w as t,F as i,d as s,e as r}from"./app.63476ef6.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";const b={},m=n("h1",{id:"testing-\u6D4B\u8BD5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#testing-\u6D4B\u8BD5","aria-hidden":"true"},"#"),s(" Testing \u6D4B\u8BD5")],-1),d=n("h2",{id:"\u4E2D\u95F4\u4EF6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4E2D\u95F4\u4EF6","aria-hidden":"true"},"#"),s(" \u4E2D\u95F4\u4EF6")],-1),g=s("\u8FD9\u91CC\u4EE5\u4E00\u4E2A\u8DEF\u7531\u4E2D\u95F4\u4EF6\u4F5C\u4E3A\u793A\u4F8B\u3002"),h={href:"https://github.com/curder/laravel-testing-demo/tree/middleware",target:"_blank",rel:"noopener noreferrer"},f=s("\u6E90\u4EE3\u7801\u67E5\u770B"),y=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`
`),n("span",{class:"token comment"},"// tests/Unit/Http/Middleware/RedirectMiddlewareTest.php"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("App"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Middleware"),n("span",{class:"token punctuation"},"\\"),s("RedirectMiddleware")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("App"),n("span",{class:"token punctuation"},"\\"),s("Models"),n("span",{class:"token punctuation"},"\\"),s("Redirect")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Support"),n("span",{class:"token punctuation"},"\\"),s("Facades"),n("span",{class:"token punctuation"},"\\"),s("Route")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Symfony"),n("span",{class:"token punctuation"},"\\"),s("Component"),n("span",{class:"token punctuation"},"\\"),s("HttpFoundation"),n("span",{class:"token punctuation"},"\\"),s("Response")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// \u6D4B\u8BD5\u4E2D\u95F4\u4EF6\u903B\u8F91\u662F\u5426\u6B63\u786E"),s(`
`),n("span",{class:"token function"},"it"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'the middleware is in isolation'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token variable"},"$response"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"RedirectMiddleware"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"handle"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token function"},"createRequest"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'get'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string single-quoted-string"},"'/'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Response"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"expect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$response"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"isRedirect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'/new-homepage'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"toBeFalse"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// \u672A\u914D\u7F6E\u8DF3\u8F6C\u65F6\uFF0C\u8BBF\u95EE\u9875\u9762\u4E0D\u4F1A\u8DF3\u8F6C"),s(`

    `),n("span",{class:"token class-name static-context"},"Redirect"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"factory"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token string single-quoted-string"},"'from'"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token string single-quoted-string"},"'/'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string single-quoted-string"},"'to'"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token string single-quoted-string"},"'/new-homepage'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token variable"},"$response"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"RedirectMiddleware"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"handle"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token function"},"createRequest"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'get'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string single-quoted-string"},"'/'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Response"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"expect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$response"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"isRedirect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'/new-homepage'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"toBeTrue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// \u6B63\u786E\u914D\u7F6E\u4E86\u8DF3\u8F6C\u65F6\uFF0C\u8BBF\u95EE\u9875\u9762\u4F1A\u8DF3\u8F6C"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// \u6D4B\u8BD5\u4E2D\u95F4\u4EF6\u80FD\u6B63\u5E38\u5DE5\u4F5C"),s(`
`),n("span",{class:"token function"},"it"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'will preform the right redirects'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token class-name static-context"},"Route"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'my-test-router'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token string single-quoted-string"},"'ok'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"middleware"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name static-context"},"RedirectMiddleware"),n("span",{class:"token operator"},"::"),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token variable"},"$this"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'/my-test-router'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"assertOk"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token class-name static-context"},"Redirect"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"factory"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),s(`
        `),n("span",{class:"token string single-quoted-string"},"'from'"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token string single-quoted-string"},"'/my-test-router'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string single-quoted-string"},"'to'"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token string single-quoted-string"},"'/new-homepage'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token variable"},"$this"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'/my-test-router'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"assertRedirect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'/new-homepage'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"createRequest"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$method"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token variable"},"$uri"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name class-name-fully-qualified return-type"},[n("span",{class:"token punctuation"},"\\"),s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Request")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token variable"},"$symfony_request"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name class-name-fully-qualified static-context"},[n("span",{class:"token punctuation"},"\\"),s("Symfony"),n("span",{class:"token punctuation"},"\\"),s("Component"),n("span",{class:"token punctuation"},"\\"),s("HttpFoundation"),n("span",{class:"token punctuation"},"\\"),s("Request")]),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token variable"},"$uri"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token variable"},"$method"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name class-name-fully-qualified static-context"},[n("span",{class:"token punctuation"},"\\"),s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Request")]),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"createFromBase"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$symfony_request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br")])],-1),w=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`
`),n("span",{class:"token comment"},"// app\\Http\\Middleware\\RedirectMiddleware.php"),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token package"},[s("App"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Middleware")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("App"),n("span",{class:"token punctuation"},"\\"),s("Models"),n("span",{class:"token punctuation"},"\\"),s("Redirect")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},"Closure"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Request")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"RedirectMiddleware"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * Handle an incoming request.
     *
     * `),n("span",{class:"token keyword"},"@param"),s("  "),n("span",{class:"token class-name"},[n("span",{class:"token punctuation"},"\\"),s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Request")]),s("  "),n("span",{class:"token parameter"},"$request"),s(`
     * `),n("span",{class:"token keyword"},"@param"),s("  "),n("span",{class:"token class-name"},[n("span",{class:"token punctuation"},"\\"),s("Closure")]),s(`(\\Illuminate\\Http\\Request): (\\Illuminate\\Http\\Response|\\Illuminate\\Http\\RedirectResponse)  $next
     * `),n("span",{class:"token keyword"},"@return"),s(),n("span",{class:"token class-name"},[n("span",{class:"token punctuation"},"\\"),s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("Response"),n("span",{class:"token punctuation"},"|"),n("span",{class:"token punctuation"},"\\"),s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Http"),n("span",{class:"token punctuation"},"\\"),s("RedirectResponse")]),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"handle"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name type-declaration"},"Request"),s(),n("span",{class:"token variable"},"$request"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name type-declaration"},"Closure"),s(),n("span",{class:"token variable"},"$next"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token variable"},"$path"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"parse_url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$request"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"fullUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token constant"},"PHP_URL_PATH"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string single-quoted-string"},"'/'"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token variable"},"$redirect"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name static-context"},"Redirect"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"query"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"where"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'from'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token variable"},"$path"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"first"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s(),n("span",{class:"token variable"},"$redirect"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token variable"},"$next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"response"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"redirectTo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$redirect"),n("span",{class:"token operator"},"->"),n("span",{class:"token property"},"to"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br")])],-1),v=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`
`),n("span",{class:"token comment"},"// app/Models/Redirect.php"),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token package"},[s("App"),n("span",{class:"token punctuation"},"\\"),s("Models")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Database"),n("span",{class:"token punctuation"},"\\"),s("Eloquent"),n("span",{class:"token punctuation"},"\\"),s("Factories"),n("span",{class:"token punctuation"},"\\"),s("HasFactory")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Database"),n("span",{class:"token punctuation"},"\\"),s("Eloquent"),n("span",{class:"token punctuation"},"\\"),s("Model")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"Redirect"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"Model"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},"HasFactory"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br")])],-1),_=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`
`),n("span",{class:"token comment"},"// database/migrations/2022_03_23_121330_create_redirects_table.php"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Database"),n("span",{class:"token punctuation"},"\\"),s("Migrations"),n("span",{class:"token punctuation"},"\\"),s("Migration")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Database"),n("span",{class:"token punctuation"},"\\"),s("Schema"),n("span",{class:"token punctuation"},"\\"),s("Blueprint")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Support"),n("span",{class:"token punctuation"},"\\"),s("Facades"),n("span",{class:"token punctuation"},"\\"),s("Schema")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"CreateRedirectsTable"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"Migration"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * Run the migrations.
     *
     * `),n("span",{class:"token keyword"},"@return"),s(),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"void")]),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"up"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name static-context"},"Schema"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'redirects'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name type-declaration"},"Blueprint"),s(),n("span",{class:"token variable"},"$table"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token variable"},"$table"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"id"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token variable"},"$table"),n("span",{class:"token operator"},"->"),n("span",{class:"token keyword type-declaration"},"string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'from'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token variable"},"$table"),n("span",{class:"token operator"},"->"),n("span",{class:"token keyword type-declaration"},"string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'to'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token variable"},"$table"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"timestamps"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * Reverse the migrations.
     *
     * `),n("span",{class:"token keyword"},"@return"),s(),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"void")]),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"down"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name static-context"},"Schema"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"dropIfExists"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'redirects'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br")])],-1),q=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`
`),n("span",{class:"token comment"},"// database/factories/RedirectFactory.php"),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token package"},[s("Database"),n("span",{class:"token punctuation"},"\\"),s("Factories")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Database"),n("span",{class:"token punctuation"},"\\"),s("Eloquent"),n("span",{class:"token punctuation"},"\\"),s("Factories"),n("span",{class:"token punctuation"},"\\"),s("Factory")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"RedirectFactory"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"Factory"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * Define the model's default state.
     *
     * `),n("span",{class:"token keyword"},"@return"),s(),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"array")]),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"definition"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword return-type"},"array"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"["),s(`
            `),n("span",{class:"token string single-quoted-string"},"'from'"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"parse_url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$this"),n("span",{class:"token operator"},"->"),n("span",{class:"token property"},"faker"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"unique"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token constant"},"PHP_URL_PATH"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token string single-quoted-string"},"'to'"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"parse_url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$this"),n("span",{class:"token operator"},"->"),n("span",{class:"token property"},"faker"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"unique"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"url"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token constant"},"PHP_URL_PATH"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br")])],-1),$=r(`<h2 id="\u6D4B\u8BD5\u662F\u5426\u5C06\u6B63\u786E\u7684\u6570\u636E\u4F20\u9012\u7ED9\u89C6\u56FE" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u662F\u5426\u5C06\u6B63\u786E\u7684\u6570\u636E\u4F20\u9012\u7ED9\u89C6\u56FE" aria-hidden="true">#</a> \u6D4B\u8BD5\u662F\u5426\u5C06\u6B63\u786E\u7684\u6570\u636E\u4F20\u9012\u7ED9\u89C6\u56FE</h2><p>\u9700\u8981\u6D4B\u8BD5\u662F\u5426\u5C06\u6B63\u786E\u7684\u6570\u636E\u4F20\u9012\u7ED9\u89C6\u56FE\uFF1F\u53EF\u4EE5\u5728\u54CD\u5E94\u4E2D\u4F7F\u7528 <code>viewData</code> \u65B9\u6CD5\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token doc-comment comment">/** <span class="token keyword">@test</span> */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">it_has_the_correct_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/some-route&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;John Doe&#39;</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-&gt;</span><span class="token function">viewData</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/** <span class="token keyword">@test</span> */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">it_contains_a_given_record</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/some-route&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-&gt;</span><span class="token function">viewData</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;users&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token variable">$userA</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/** <span class="token keyword">@test</span> */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">it_returns_the_correct_amount_of_records</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/some-route&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">assertCount</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-&gt;</span><span class="token function">viewData</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;users&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="\u6D4B\u8BD5\u547D\u4EE4\u5B9A\u65F6\u6267\u884C" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u547D\u4EE4\u5B9A\u65F6\u6267\u884C" aria-hidden="true">#</a> \u6D4B\u8BD5\u547D\u4EE4\u5B9A\u65F6\u6267\u884C</h2><p>\u65AD\u8A00\u5B9A\u65F6\u4EFB\u52A1\u4E00\u5B9A\u4F1A\u6309\u7167\u6307\u5B9A\u7684\u89C4\u5219\u6267\u884C\u3002</p>`,5),R=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[s(`// App\\Console\\Kernel
`),n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`

`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token package"},[s("App"),n("span",{class:"token punctuation"},"\\"),s("Console")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Console"),n("span",{class:"token punctuation"},"\\"),s("Scheduling"),n("span",{class:"token punctuation"},"\\"),s("Schedule")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Foundation"),n("span",{class:"token punctuation"},"\\"),s("Console"),n("span",{class:"token punctuation"},"\\"),s("Kernel")]),s(),n("span",{class:"token keyword"},"as"),s(" ConsoleKernel"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Support"),n("span",{class:"token punctuation"},"\\"),s("Str")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"Kernel"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"ConsoleKernel"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Console"),n("span",{class:"token punctuation"},"\\"),s("Scheduling"),n("span",{class:"token punctuation"},"\\"),s("Schedule")]),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Foundation"),n("span",{class:"token punctuation"},"\\"),s("Console"),n("span",{class:"token punctuation"},"\\"),s("Kernel")]),s(),n("span",{class:"token keyword"},"as"),s(" ConsoleKernel"),n("span",{class:"token punctuation"},";"),s(`
    
    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"schedule"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name type-declaration"},"Schedule"),s(),n("span",{class:"token variable"},"$schedule"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token variable"},"$schedule"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"command"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'check:api-token'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"dailyAt"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'10:00'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// \u68C0\u67E5\u662F\u5426\u9700\u8981\u53D1\u9001apiToken\u5230\u671F\u901A\u77E5"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br")])],-1),x=n("div",{class:"language-php ext-php line-numbers-mode"},[n("pre",{class:"language-php"},[n("code",null,[s(`// Test
`),n("span",{class:"token php language-php"},[n("span",{class:"token delimiter important"},"<?php"),s(`
`),n("span",{class:"token keyword"},"namespace"),s(),n("span",{class:"token package"},[s("Tests"),n("span",{class:"token punctuation"},"\\"),s("Integrations"),n("span",{class:"token punctuation"},"\\"),s("Console")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Tests"),n("span",{class:"token punctuation"},"\\"),s("TestCase")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Support"),n("span",{class:"token punctuation"},"\\"),s("Str")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Console"),n("span",{class:"token punctuation"},"\\"),s("Scheduling"),n("span",{class:"token punctuation"},"\\"),s("Event")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("Illuminate"),n("span",{class:"token punctuation"},"\\"),s("Console"),n("span",{class:"token punctuation"},"\\"),s("Scheduling"),n("span",{class:"token punctuation"},"\\"),s("Schedule")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"KernelTest"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"TestCase"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s("/** "),n("span",{class:"token keyword"},"@test"),s(" */")]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"check_api_token_command_is_scheduled_at_10am"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword return-type"},"void"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token variable"},"$schedule"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"app"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name static-context"},"Schedule"),n("span",{class:"token operator"},"::"),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token doc-comment comment"},[s("/** "),n("span",{class:"token keyword"},"@var"),s(),n("span",{class:"token class-name"},"Event"),s(),n("span",{class:"token parameter"},"$event"),s(" */")]),s(`
        `),n("span",{class:"token variable"},"$event"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"collect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$schedule"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"events"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"filter"),n("span",{class:"token punctuation"},"("),s(`
                `),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name type-declaration"},"Event"),s(),n("span",{class:"token variable"},"$event"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s("  "),n("span",{class:"token class-name static-context"},"Str"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"containsAll"),n("span",{class:"token punctuation"},"("),n("span",{class:"token variable"},"$event"),n("span",{class:"token operator"},"->"),n("span",{class:"token property"},"command"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string single-quoted-string"},"'check:api_token'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"first"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token variable"},"$this"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"assertInstanceOf"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name static-context"},"Event"),n("span",{class:"token operator"},"::"),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token variable"},"$event"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token variable"},"$this"),n("span",{class:"token operator"},"->"),n("span",{class:"token function"},"assertEquals"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string single-quoted-string"},"'0 10 * * *'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token variable"},"$event"),n("span",{class:"token operator"},"->"),n("span",{class:"token property"},"expression"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br")])],-1),I=s("\u5176\u4ED6\u7684\u7B80\u5355\u6D4B\u8BD5\u793A\u4F8B\u4EE3\u7801 "),C={href:"https://github.com/curder/laravel-console-command-test-demo",target:"_blank",rel:"noopener noreferrer"},H=s("curder/laravel-console-command-test-demo"),S=s(" \u3002");function F(M,T){const p=o("ExternalLinkIcon"),e=o("CodeGroupItem"),c=o("CodeGroup");return l(),u(i,null,[m,d,n("p",null,[g,n("a",h,[f,a(p)])]),a(c,null,{default:t(()=>[a(e,{title:"\u6D4B\u8BD5"},{default:t(()=>[y]),_:1}),a(e,{title:"\u5B9A\u4E49"},{default:t(()=>[w]),_:1}),a(e,{title:"\u6A21\u578B\u6587\u4EF6"},{default:t(()=>[v]),_:1}),a(e,{title:"\u8FC1\u79FB\u6587\u4EF6"},{default:t(()=>[_]),_:1}),a(e,{title:"Factory\u6587\u4EF6"},{default:t(()=>[q]),_:1})]),_:1}),$,a(c,null,{default:t(()=>[a(e,{title:"App\\Console\\Kernel.php"},{default:t(()=>[R]),_:1}),a(e,{title:"Tests\\Integrations\\Console\\KernelTest.php"},{default:t(()=>[x]),_:1})]),_:1}),n("p",null,[I,n("a",C,[H,a(p)]),S])],64)}var D=k(b,[["render",F]]);export{D as default};
