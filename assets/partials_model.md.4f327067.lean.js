import{_ as c,c as r,b as n,w as l,a as e,r as o,o as D,d as s,e as a}from"./app.ffb5f3c8.js";const m=JSON.parse('{"title":"Model 模型","description":"","frontmatter":{},"headers":[{"level":2,"title":"判断对象是否新增 wasRecentlyCreated","slug":"判断对象是否新增-wasrecentlycreated","link":"#判断对象是否新增-wasrecentlycreated","children":[]},{"level":2,"title":"重用或克隆查询","slug":"重用或克隆查询","link":"#重用或克隆查询","children":[]},{"level":2,"title":"模型的时间查询方法","slug":"模型的时间查询方法","link":"#模型的时间查询方法","children":[]},{"level":2,"title":"增减某个字段","slug":"增减某个字段","link":"#增减某个字段","children":[]},{"level":2,"title":"表不存在时间字段","slug":"表不存在时间字段","link":"#表不存在时间字段","children":[]},{"level":2,"title":"软删除：多次还原","slug":"软删除-多次还原","link":"#软删除-多次还原","children":[]},{"level":2,"title":"all 方法值定返回字段","slug":"all-方法值定返回字段","link":"#all-方法值定返回字段","children":[]},{"level":2,"title":"是否返回失败还是模型实例","slug":"是否返回失败还是模型实例","link":"#是否返回失败还是模型实例","children":[]},{"level":2,"title":"findOrFail() 方法还接受主键数组","slug":"findorfail-方法还接受主键数组","link":"#findorfail-方法还接受主键数组","children":[]},{"level":2,"title":"修改数据库字段","slug":"修改数据库字段","link":"#修改数据库字段","children":[]},{"level":2,"title":"查询结果集使用map回调","slug":"查询结果集使用map回调","link":"#查询结果集使用map回调","children":[]},{"level":2,"title":"修改默认的时间字段","slug":"修改默认的时间字段","link":"#修改默认的时间字段","children":[]},{"level":2,"title":"通过某个字段快速排序","slug":"通过某个字段快速排序","link":"#通过某个字段快速排序","children":[]},{"level":2,"title":"数据库原始查询计算运行得更快","slug":"数据库原始查询计算运行得更快","link":"#数据库原始查询计算运行得更快","children":[]},{"level":2,"title":"多个 scope 查询","slug":"多个-scope-查询","link":"#多个-scope-查询","children":[]},{"level":2,"title":"无需转换 carbon","slug":"无需转换-carbon","link":"#无需转换-carbon","children":[]},{"level":2,"title":"按首字母分组","slug":"按首字母分组","link":"#按首字母分组","children":[]},{"level":2,"title":"字段仅更新一次","slug":"字段仅更新一次","link":"#字段仅更新一次","children":[]},{"level":2,"title":"find 方法针对主键查询更多","slug":"find-方法针对主键查询更多","link":"#find-方法针对主键查询更多","children":[]},{"level":2,"title":"使用UUID代替主键自增","slug":"使用uuid代替主键自增","link":"#使用uuid代替主键自增","children":[]},{"level":2,"title":"子查询","slug":"子查询","link":"#子查询","children":[]},{"level":2,"title":"隐藏一些字段","slug":"隐藏一些字段","link":"#隐藏一些字段","children":[]},{"level":2,"title":"捕捉数据库错误","slug":"捕捉数据库错误","link":"#捕捉数据库错误","children":[]},{"level":2,"title":"查询生成 - 软删除","slug":"查询生成-软删除","link":"#查询生成-软删除","children":[]},{"level":2,"title":"SQL 查询","slug":"sql-查询","link":"#sql-查询","children":[]},{"level":2,"title":"使用DB事务","slug":"使用db事务","link":"#使用db事务","children":[]},{"level":2,"title":"更新或创建","slug":"更新或创建","link":"#更新或创建","children":[]},{"level":2,"title":"更改日期格式","slug":"更改日期格式","link":"#更改日期格式","children":[]},{"level":2,"title":"在JSON字段中存储数组","slug":"在json字段中存储数组","link":"#在json字段中存储数组","children":[]},{"level":2,"title":"模型的副本","slug":"模型的副本","link":"#模型的副本","children":[]},{"level":2,"title":"删除模型之前执行任何额外步骤","slug":"删除模型之前执行任何额外步骤","link":"#删除模型之前执行任何额外步骤","children":[]},{"level":2,"title":"将数据持久化到数据库时自动填充列","slug":"将数据持久化到数据库时自动填充列","link":"#将数据持久化到数据库时自动填充列","children":[]},{"level":2,"title":"分析查询","slug":"分析查询","link":"#分析查询","children":[]},{"level":2,"title":"dontExist() 方法","slug":"dontexist-方法","link":"#dontexist-方法","children":[]},{"level":2,"title":"添加模型的Trait且自动调用它们的 boot() 方法","slug":"添加模型的trait且自动调用它们的-boot-方法","link":"#添加模型的trait且自动调用它们的-boot-方法","children":[]},{"level":2,"title":"如何防止“非对象属性”错误","slug":"如何防止-非对象属性-错误","link":"#如何防止-非对象属性-错误","children":[]},{"level":2,"title":"修改模型记录后获取原始属性 getOriginal()","slug":"修改模型记录后获取原始属性-getoriginal","link":"#修改模型记录后获取原始属性-getoriginal","children":[]},{"level":2,"title":"填充数据库的简单方法","slug":"填充数据库的简单方法","link":"#填充数据库的简单方法","children":[]},{"level":2,"title":"按中间表字段排序","slug":"按中间表字段排序","link":"#按中间表字段排序","children":[]},{"level":2,"title":"查找单个记录","slug":"查找单个记录","link":"#查找单个记录","children":[]},{"level":2,"title":"chuckMap 处理结果","slug":"chuckmap-处理结果","link":"#chuckmap-处理结果","children":[]},{"level":2,"title":"更新模型但不触发事件","slug":"更新模型但不触发事件","link":"#更新模型但不触发事件","children":[]},{"level":2,"title":"定期清理过时记录中的模型","slug":"定期清理过时记录中的模型","link":"#定期清理过时记录中的模型","children":[]},{"level":2,"title":"不可变的日期","slug":"不可变的日期","link":"#不可变的日期","children":[]},{"level":2,"title":"withAggregate 方法","slug":"withaggregate-方法","link":"#withaggregate-方法","children":[]},{"level":2,"title":"upsert() 方法插入或更新多条记录","slug":"upsert-方法插入或更新多条记录","link":"#upsert-方法插入或更新多条记录","children":[]},{"level":2,"title":"过滤结果后检索查询生成器","slug":"过滤结果后检索查询生成器","link":"#过滤结果后检索查询生成器","children":[]},{"level":2,"title":"自定有数据转换","slug":"自定有数据转换","link":"#自定有数据转换","children":[]},{"level":2,"title":"根据相关模型的平均值或计数排序","slug":"根据相关模型的平均值或计数排序","link":"#根据相关模型的平均值或计数排序","children":[]},{"level":2,"title":"返回事务结果","slug":"返回事务结果","link":"#返回事务结果","children":[]},{"level":2,"title":"查询中删除 globalScopes()","slug":"查询中删除-globalscopes","link":"#查询中删除-globalscopes","children":[]},{"level":2,"title":"按 JSON 字段值排序（MySQL）","slug":"按-json-字段值排序-mysql","link":"#按-json-字段值排序-mysql","children":[]},{"level":2,"title":"从第一个结果中获取单列的值 value()","slug":"从第一个结果中获取单列的值-value","link":"#从第一个结果中获取单列的值-value","children":[]},{"level":2,"title":"检查更改的值是否更改","slug":"检查更改的值是否更改","link":"#检查更改的值是否更改","children":[]},{"level":2,"title":"定义访问器和修改器的新方法","slug":"定义访问器和修改器的新方法","link":"#定义访问器和修改器的新方法","children":[]},{"level":2,"title":"保存模型及其所有关系","slug":"保存模型及其所有关系","link":"#保存模型及其所有关系","children":[]},{"level":2,"title":"获取查询日志","slug":"获取查询日志","link":"#获取查询日志","children":[]},{"level":2,"title":"whereBelongsTo 关联查询","slug":"wherebelongsto-关联查询","link":"#wherebelongsto-关联查询","children":[]}],"relativePath":"partials/model.md","lastUpdated":1645444087000}'),F={name:"partials/model.md"},y=e("",133),C=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Model"),s("span",{style:{color:"#89DDFF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Prunable"),s("span",{style:{color:"#89DDFF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Flight"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Model")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Prunable"),s("span",{style:{color:"#89DDFF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * Get the prunable model query.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Database"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Eloquent"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Builder")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"prunable"),s("span",{style:{color:"#89DDFF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"static"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"where"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"created_at"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"&lt;="),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"now"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"subMonth"),s("span",{style:{color:"#89DDFF"}},"());")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 此外，可以设置在删除模型之前必须执行的操作：")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"protected"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"pruning"),s("span",{style:{color:"#89DDFF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 删除关联资源，例如文件")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#FFCB6B"}},"Storage"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"disk"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"s3"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"delete"),s("span",{style:{color:"#89DDFF"}},"($this->"),s("span",{style:{color:"#A6ACCD"}},"filename"),s("span",{style:{color:"#89DDFF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),a(`
`),s("span",{class:"line"})])])],-1),A=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// App\\Console\\Kernel.php")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * Define the application's command schedule.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@param"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Console"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Scheduling"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Schedule"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  $schedule")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"void")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"protected"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Schedule"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"command"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"model:prune"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"daily"),s("span",{style:{color:"#89DDFF"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// $schedule->command('model:prune', ['--model' => [Address::class, Flight::class]])->daily(); // 指定特定模型参数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),a(`
`),s("span",{class:"line"})])])],-1),i=e("",56);function d(h,u,g,E,b,f){const p=o("CodeGroupItem"),t=o("CodeGroup");return D(),r("div",null,[y,n(t,null,{default:l(()=>[n(p,{title:"模型定义"},{default:l(()=>[C]),_:1}),n(p,{title:"定时任务"},{default:l(()=>[A]),_:1})]),_:1}),i])}const v=c(F,[["render",d]]);export{m as __pageData,v as default};
