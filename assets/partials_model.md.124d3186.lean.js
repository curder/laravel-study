import{_ as c,C as o,o as r,c as y,H as n,w as l,Q as e,k as s,a}from"./chunks/framework.5499cfac.js";const m=JSON.parse('{"title":"Model 模型","description":"","frontmatter":{},"headers":[],"relativePath":"partials/model.md","filePath":"partials/model.md","lastUpdated":1645444055000}'),E={name:"partials/model.md"},i=e("",133),F=s("div",{class:"language-php vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki github-dark vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F97583"}},"use"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#79B8FF"}},"Illuminate\\Database\\Eloquent\\Model"),s("span",{style:{color:"#E1E4E8"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F97583"}},"use"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#79B8FF"}},"Illuminate\\Database\\Eloquent\\Prunable"),s("span",{style:{color:"#E1E4E8"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F97583"}},"class"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#B392F0"}},"Flight"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#F97583"}},"extends"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#B392F0"}},"Model")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#F97583"}},"use"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#79B8FF"}},"Prunable"),s("span",{style:{color:"#E1E4E8"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#6A737D"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     * Get the prunable model query.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     * "),s("span",{style:{color:"#F97583"}},"@return"),s("span",{style:{color:"#6A737D"}}," "),s("span",{style:{color:"#79B8FF"}},"\\Illuminate\\Database\\Eloquent\\Builder")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#F97583"}},"public"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#F97583"}},"function"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#B392F0"}},"prunable"),s("span",{style:{color:"#E1E4E8"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"        "),s("span",{style:{color:"#F97583"}},"return"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#F97583"}},"static::"),s("span",{style:{color:"#B392F0"}},"where"),s("span",{style:{color:"#E1E4E8"}},"("),s("span",{style:{color:"#9ECBFF"}},"'created_at'"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#9ECBFF"}},"'&lt;='"),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#B392F0"}},"now"),s("span",{style:{color:"#E1E4E8"}},"()"),s("span",{style:{color:"#F97583"}},"->"),s("span",{style:{color:"#B392F0"}},"subMonth"),s("span",{style:{color:"#E1E4E8"}},"());")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#6A737D"}},"// 此外，可以设置在删除模型之前必须执行的操作：")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#F97583"}},"protected"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#F97583"}},"function"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#B392F0"}},"pruning"),s("span",{style:{color:"#E1E4E8"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"        "),s("span",{style:{color:"#6A737D"}},"// 删除关联资源，例如文件")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"        "),s("span",{style:{color:"#79B8FF"}},"Storage"),s("span",{style:{color:"#F97583"}},"::"),s("span",{style:{color:"#B392F0"}},"disk"),s("span",{style:{color:"#E1E4E8"}},"("),s("span",{style:{color:"#9ECBFF"}},"'s3'"),s("span",{style:{color:"#E1E4E8"}},")"),s("span",{style:{color:"#F97583"}},"->"),s("span",{style:{color:"#B392F0"}},"delete"),s("span",{style:{color:"#E1E4E8"}},"("),s("span",{style:{color:"#79B8FF"}},"$this"),s("span",{style:{color:"#F97583"}},"->"),s("span",{style:{color:"#E1E4E8"}},"filename);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"}")])])]),s("pre",{class:"shiki github-light vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D73A49"}},"use"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#005CC5"}},"Illuminate\\Database\\Eloquent\\Model"),s("span",{style:{color:"#24292E"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49"}},"use"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#005CC5"}},"Illuminate\\Database\\Eloquent\\Prunable"),s("span",{style:{color:"#24292E"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49"}},"class"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#6F42C1"}},"Flight"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#D73A49"}},"extends"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#6F42C1"}},"Model")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#D73A49"}},"use"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#005CC5"}},"Prunable"),s("span",{style:{color:"#24292E"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#6A737D"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     * Get the prunable model query.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     * "),s("span",{style:{color:"#D73A49"}},"@return"),s("span",{style:{color:"#6A737D"}}," "),s("span",{style:{color:"#005CC5"}},"\\Illuminate\\Database\\Eloquent\\Builder")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"     */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#D73A49"}},"public"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#D73A49"}},"function"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#6F42C1"}},"prunable"),s("span",{style:{color:"#24292E"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"        "),s("span",{style:{color:"#D73A49"}},"return"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#D73A49"}},"static::"),s("span",{style:{color:"#6F42C1"}},"where"),s("span",{style:{color:"#24292E"}},"("),s("span",{style:{color:"#032F62"}},"'created_at'"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#032F62"}},"'&lt;='"),s("span",{style:{color:"#24292E"}},", "),s("span",{style:{color:"#6F42C1"}},"now"),s("span",{style:{color:"#24292E"}},"()"),s("span",{style:{color:"#D73A49"}},"->"),s("span",{style:{color:"#6F42C1"}},"subMonth"),s("span",{style:{color:"#24292E"}},"());")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#6A737D"}},"// 此外，可以设置在删除模型之前必须执行的操作：")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#D73A49"}},"protected"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#D73A49"}},"function"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#6F42C1"}},"pruning"),s("span",{style:{color:"#24292E"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"        "),s("span",{style:{color:"#6A737D"}},"// 删除关联资源，例如文件")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"        "),s("span",{style:{color:"#005CC5"}},"Storage"),s("span",{style:{color:"#D73A49"}},"::"),s("span",{style:{color:"#6F42C1"}},"disk"),s("span",{style:{color:"#24292E"}},"("),s("span",{style:{color:"#032F62"}},"'s3'"),s("span",{style:{color:"#24292E"}},")"),s("span",{style:{color:"#D73A49"}},"->"),s("span",{style:{color:"#6F42C1"}},"delete"),s("span",{style:{color:"#24292E"}},"("),s("span",{style:{color:"#005CC5"}},"$this"),s("span",{style:{color:"#D73A49"}},"->"),s("span",{style:{color:"#24292E"}},"filename);")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"}")])])])],-1),d=s("div",{class:"language-php vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki github-dark vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"// App\\Console\\Kernel.php")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," * Define the application's command schedule.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," * "),s("span",{style:{color:"#F97583"}},"@param"),s("span",{style:{color:"#6A737D"}},"  "),s("span",{style:{color:"#79B8FF"}},"\\Illuminate\\Console\\Scheduling\\Schedule"),s("span",{style:{color:"#6A737D"}},"  $schedule")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," * "),s("span",{style:{color:"#F97583"}},"@return"),s("span",{style:{color:"#6A737D"}}," "),s("span",{style:{color:"#F97583"}},"void")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F97583"}},"protected"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#F97583"}},"function"),s("span",{style:{color:"#E1E4E8"}}," "),s("span",{style:{color:"#B392F0"}},"schedule"),s("span",{style:{color:"#E1E4E8"}},"("),s("span",{style:{color:"#79B8FF"}},"Schedule"),s("span",{style:{color:"#E1E4E8"}}," $schedule)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    $schedule"),s("span",{style:{color:"#F97583"}},"->"),s("span",{style:{color:"#B392F0"}},"command"),s("span",{style:{color:"#E1E4E8"}},"("),s("span",{style:{color:"#9ECBFF"}},"'model:prune'"),s("span",{style:{color:"#E1E4E8"}},")"),s("span",{style:{color:"#F97583"}},"->"),s("span",{style:{color:"#B392F0"}},"daily"),s("span",{style:{color:"#E1E4E8"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"    "),s("span",{style:{color:"#6A737D"}},"// $schedule->command('model:prune', ['--model' => [Address::class, Flight::class]])->daily(); // 指定特定模型参数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"}")])])]),s("pre",{class:"shiki github-light vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"// App\\Console\\Kernel.php")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," * Define the application's command schedule.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," * "),s("span",{style:{color:"#D73A49"}},"@param"),s("span",{style:{color:"#6A737D"}},"  "),s("span",{style:{color:"#005CC5"}},"\\Illuminate\\Console\\Scheduling\\Schedule"),s("span",{style:{color:"#6A737D"}},"  $schedule")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," * "),s("span",{style:{color:"#D73A49"}},"@return"),s("span",{style:{color:"#6A737D"}}," "),s("span",{style:{color:"#D73A49"}},"void")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}}," */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D73A49"}},"protected"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#D73A49"}},"function"),s("span",{style:{color:"#24292E"}}," "),s("span",{style:{color:"#6F42C1"}},"schedule"),s("span",{style:{color:"#24292E"}},"("),s("span",{style:{color:"#005CC5"}},"Schedule"),s("span",{style:{color:"#24292E"}}," $schedule)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    $schedule"),s("span",{style:{color:"#D73A49"}},"->"),s("span",{style:{color:"#6F42C1"}},"command"),s("span",{style:{color:"#24292E"}},"("),s("span",{style:{color:"#032F62"}},"'model:prune'"),s("span",{style:{color:"#24292E"}},")"),s("span",{style:{color:"#D73A49"}},"->"),s("span",{style:{color:"#6F42C1"}},"daily"),s("span",{style:{color:"#24292E"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"    "),s("span",{style:{color:"#6A737D"}},"// $schedule->command('model:prune', ['--model' => [Address::class, Flight::class]])->daily(); // 指定特定模型参数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292E"}},"}")])])])],-1),u=e("",56);function h(g,C,A,D,B,b){const p=o("CodeGroupItem"),t=o("CodeGroup");return r(),y("div",null,[i,n(t,null,{default:l(()=>[n(p,{title:"模型定义"},{default:l(()=>[F]),_:1}),n(p,{title:"定时任务"},{default:l(()=>[d]),_:1})]),_:1}),u])}const k=c(E,[["render",h]]);export{m as __pageData,k as default};
