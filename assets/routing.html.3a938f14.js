import{r as e,o,c,b as s,a as t,F as l,e as a,d as n}from"./app.83dff38f.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const r={},u=a(`<h1 id="routing-\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#routing-\u8DEF\u7531" aria-hidden="true">#</a> Routing \u8DEF\u7531</h1><h2 id="\u8DEF\u7531\u5206\u7EC4-group" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u5206\u7EC4-group" aria-hidden="true">#</a> \u8DEF\u7531\u5206\u7EC4 group</h2><p>\u5728\u8DEF\u7531\u4E2D\uFF0C\u53EF\u4EE5\u5728\u7EC4\u5185\u521B\u5EFA\u7EC4\uFF0C\u5C06\u67D0\u4E2A\u4E2D\u95F4\u4EF6\u4EC5\u5206\u914D\u7ED9 &quot;\u7236&quot; \u7EC4\u4E2D\u7684\u67D0\u4E9B URL\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;prefix&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;account&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;as&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;account.&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;AccountController@login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /account/login</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;register&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;AccountController@register&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /account/register</span>
    
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;middleware&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;auth&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;edit&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;AccountController@edit&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// account/edit</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="\u901A\u914D\u7B26\u5B50\u57DF" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26\u5B50\u57DF" aria-hidden="true">#</a> \u901A\u914D\u7B26\u5B50\u57DF</h2><p>\u53EF\u4EE5\u901A\u8FC7\u52A8\u6001\u5B50\u57DF\u540D\u521B\u5EFA\u8DEF\u7531\u7EC4\uFF0C\u5E76\u5C06\u5176\u503C\u4F20\u9012\u7ED9\u6BCF\u4E2A\u8DEF\u7531\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;{username}.workspace.com&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user/{id}&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="laravel-ui-\u5305-route-\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#laravel-ui-\u5305-route-\u65B9\u6CD5" aria-hidden="true">#</a> Laravel UI \u5305 route \u65B9\u6CD5</h2>`,8),k=n("\u5982\u679C\u4F7F\u7528 "),d={href:"https://github.com/laravel/ui",target:"_blank",rel:"noopener noreferrer"},b=n("Laravel UI"),g=n(" \u5305\uFF0C\u53EF\u80FD\u60F3\u77E5\u9053 "),m=s("code",null,"Auth::routes();",-1),h=n(" \u80CC\u540E\u7684\u5B9E\u9645\u8DEF\u7531\u662F\u4EC0\u4E48\uFF1F \u53EF\u4EE5\u68C0\u67E5\u6587\u4EF6 "),f=s("code",null,"/vendor/laravel/ui/src/AuthRouteMethods.php",-1),v=n("\u3002"),w=a(`<div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Authentication Routes...</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;Auth\\LoginController@showLoginForm&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;Auth\\LoginController@login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;logout&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;Auth\\LoginController@logout&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;logout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Registration Routes...</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;register&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;register&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;Auth\\RegisterController@showRegistrationForm&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;register&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;register&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;Auth\\RegisterController@register&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Password Reset Routes...</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;reset&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">resetPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Password Confirmation Routes...</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;confirm&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token function">class_exists</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">prependGroupNamespace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;Auth\\ConfirmPasswordController&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">confirmPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Email Verification Routes...</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;verify&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">emailVerification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u8BE5\u51FD\u6570\u7684\u9ED8\u8BA4\u7528\u6CD5\u5F88\u7B80\u5355\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Auth</span><span class="token operator">::</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u9ED8\u8BA4\u6CA1\u6709\u53C2\u6570</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4F46\u662F\u53EF\u4EE5\u63D0\u4F9B\u53C2\u6570\u6765\u542F\u7528\u6216\u7981\u7528\u67D0\u4E9B\u8DEF\u7531\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Auth</span><span class="token operator">::</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;login&#39;</span>    <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;logout&#39;</span>   <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;register&#39;</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;reset&#39;</span>    <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// \u542F\u7528\u91CD\u7F6E\u5BC6\u7801</span>
    <span class="token string single-quoted-string">&#39;confirm&#39;</span>  <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// \u542F\u7528\u5BC6\u7801\u786E\u8BA4</span>
    <span class="token string single-quoted-string">&#39;verify&#39;</span>   <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// \u542F\u7528\u90AE\u7BB1\u9A8C\u8BC1</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="\u8DEF\u7531\u6A21\u578B\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u6A21\u578B\u7ED1\u5B9A" aria-hidden="true">#</a> \u8DEF\u7531\u6A21\u578B\u7ED1\u5B9A</h2><p>\u53EF\u4EE5\u50CF <code>Route::get(&#39;api/users/{user}&#39;, function (App\\Models\\User $user) { ... }</code> \u4E4B\u7C7B\u7684\u8DEF\u7531\u6A21\u578B\u7ED1\u5B9A\uFF0C\u4F46\u4E0D\u4EC5\u53EF\u4EE5\u901A\u8FC7 id \u5B57\u6BB5\u3002</p><p>\u5982\u679C\u5E0C\u671B <code>{user}</code> \u6210\u4E3A\u7528\u6237\u540D\u5B57\u6BB5\uFF0C\u5C06\u5176\u653E\u5165\u6A21\u578B\u4E2D\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getRouteKeyName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">&#39;username&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="\u4ECE\u8DEF\u7531\u6587\u4EF6\u5FEB\u901F\u5BFC\u822A\u5230\u63A7\u5236\u5668" tabindex="-1"><a class="header-anchor" href="#\u4ECE\u8DEF\u7531\u6587\u4EF6\u5FEB\u901F\u5BFC\u822A\u5230\u63A7\u5236\u5668" aria-hidden="true">#</a> \u4ECE\u8DEF\u7531\u6587\u4EF6\u5FEB\u901F\u5BFC\u822A\u5230\u63A7\u5236\u5668</h2><p>\u8FD9\u4E2A\u7279\u6027\u5728 Laravel 8 \u4E4B\u524D\u662F\u53EF\u9009\u7684\uFF0C\u5728 Laravel 8 \u4E2D\u6210\u4E3A\u6807\u51C6\u7684\u4E3B\u8981\u8DEF\u7531\u8BED\u6CD5\u3002</p><p>\u66F4\u65E9\u65F6\u7684\u8DEF\u7531\u5B9A\u4E49\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;page&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;PageController@action&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u53EF\u4EE5\u5C06 Controller \u6307\u5B9A\u4E3A\u4E00\u4E2A\u7C7B\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;page&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>App<span class="token punctuation">\\</span>Http<span class="token punctuation">\\</span>Controllers<span class="token punctuation">\\</span>PageController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;action&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u7136\u540E\u80FD\u591F\u5728 <strong>PhpStorm</strong> \u4E2D\u5355\u51FB <code>PageController</code>\uFF0C\u5E76\u76F4\u63A5\u5BFC\u822A\u5230\u63A7\u5236\u5668\u6587\u4EF6\uFF0C\u800C\u4E0D\u662F\u624B\u52A8\u641C\u7D22\u5B83\u3002</p><p>\u6216\u8005\uFF0C\u4E3A\u4E86\u4F7F\u5176\u66F4\u77ED\uFF0C\u5C06\u5176\u6DFB\u52A0\u5230\u8DEF\u7531\u5B9A\u4E49\u6587\u4EF6\u7684\u9876\u90E8\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\\</span>Http<span class="token punctuation">\\</span>Controllers<span class="token punctuation">\\</span>PageController</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;page&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name static-context">PageController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;action&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="\u8DEF\u7531\u56DE\u9000-\u6CA1\u6709\u5176\u4ED6\u8DEF\u7531\u5339\u914D\u65F6" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u56DE\u9000-\u6CA1\u6709\u5176\u4ED6\u8DEF\u7531\u5339\u914D\u65F6" aria-hidden="true">#</a> \u8DEF\u7531\u56DE\u9000\uFF1A\u6CA1\u6709\u5176\u4ED6\u8DEF\u7531\u5339\u914D\u65F6</h2><p>\u5982\u679C\u60F3\u4E3A\u672A\u627E\u5230\u7684\u8DEF\u7531\u6307\u5B9A\u989D\u5916\u7684\u903B\u8F91\uFF0C\u800C\u4E0D\u662F\u4EC5\u4EC5\u629B\u51FA\u9ED8\u8BA4\u7684 <code>404</code> \u9875\u9762\uFF0C\u53EF\u4EE5\u5728\u8DEF\u7531\u6587\u4EF6\u7684\u6700\u540E\u521B\u5EFA\u4E00\u4E2A\u7279\u6B8A\u7684\u8DEF\u7531\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;middleware&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;auth&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;prefix&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;admin&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;as&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;admin.&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/home&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;HomeController@index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;tasks&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;Admin\\TasksController&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Some more routes....</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">fallback</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">&#39;Hm, why did you land here somehow?&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u4F7F\u7528-regexp-\u8FDB\u884C\u8DEF\u7531\u53C2\u6570\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-regexp-\u8FDB\u884C\u8DEF\u7531\u53C2\u6570\u9A8C\u8BC1" aria-hidden="true">#</a> \u4F7F\u7528 RegExp \u8FDB\u884C\u8DEF\u7531\u53C2\u6570\u9A8C\u8BC1</h2><p>\u53EF\u4EE5\u76F4\u63A5\u5728\u8DEF\u7531\u4E2D\u9A8C\u8BC1\u53C2\u6570\uFF0C\u4F7F\u7528 <code>where</code> \u53C2\u6570\u3002</p><p>\u4E00\u4E2A\u975E\u5E38\u5E38\u89C1\u7684\u60C5\u51B5\u662F\u901A\u8FC7\u8BED\u8A00\u533A\u57DF\u8BBE\u7F6E\u4E3A\u8DEF\u7531\u6DFB\u52A0\u524D\u7F00\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\\</span>Http<span class="token punctuation">\\</span>Controllers<span class="token punctuation">\\</span>ArticleController</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\\</span>Http<span class="token punctuation">\\</span>Controllers<span class="token punctuation">\\</span>HomeController</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;prefix&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;{locale}&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;where&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;locale&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;[a-zA-Z]{2}&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name static-context">HomeController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;index&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;article/{id}&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name static-context">ArticleController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;show&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="\u9650\u901F" tabindex="-1"><a class="header-anchor" href="#\u9650\u901F" aria-hidden="true">#</a> \u9650\u901F</h2><p>\u4F7F\u7528\u573A\u666F\uFF0C\u53D1\u9001\u77ED\u4FE1\u9A8C\u8BC1\u7801\u63A5\u53E3\u6BCF\u5206\u949F\u5141\u8BB8\u8BF7\u6C42\u4E00\u6B21\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// \u5B9A\u4E49\u89C4\u5219\uFF0C\u6BCF\u4E2A\u7528\u6237\u6216IP\u6BCF\u5206\u949F\u5141\u8BB8\u53D1\u90011\u4E2A\u8BF7\u6C42</span>
<span class="token comment">// \u5728 \`App\\Providers\\RouteServiceProvider::configureRateLimiting()\` \u65B9\u6CD5\u4E2D\u5B9A\u4E49</span>
<span class="token class-name static-context">RateLimiter</span><span class="token operator">::</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;reset-password&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name static-context">Limit</span><span class="token operator">::</span><span class="token function">perMinute</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">by</span><span class="token punctuation">(</span>
        <span class="token function">optional</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">id</span> <span class="token operator">?</span><span class="token punctuation">:</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5728\u5B9A\u4E49\u8DEF\u7531\u65F6\u4F7F\u7528</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;reset-password&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;throttle:reset-password&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,28),q=n("\u66F4\u591A\u5B98\u65B9\u6587\u6863"),x={href:"https://laravel.com/docs/8.x/routing#rate-limiting",target:"_blank",rel:"noopener noreferrer"},y=n("\u67E5\u770B\u8FD9\u91CC"),R=n("\u3002"),A=a(`<h2 id="\u901F\u7387\u9650\u5236-\u5168\u5C40\u548C\u9488\u5BF9\u8BBF\u5BA2-\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#\u901F\u7387\u9650\u5236-\u5168\u5C40\u548C\u9488\u5BF9\u8BBF\u5BA2-\u7528\u6237" aria-hidden="true">#</a> \u901F\u7387\u9650\u5236\uFF1A\u5168\u5C40\u548C\u9488\u5BF9\u8BBF\u5BA2/\u7528\u6237</h2><p>\u53EF\u4EE5\u9650\u5236\u67D0\u4E9B URL \u6BCF\u5206\u949F\u6700\u591A\u8C03\u7528 60 \u6B21\uFF0C\u4F7F\u7528 <code>throttle:60,1</code> \uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;auth:api&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;throttle:60,1&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/user&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u800C\u4E14\uFF0C\u53EF\u4EE5\u5206\u522B\u4E3A\u516C\u5171\u7528\u6237\u548C\u767B\u5F55\u7528\u6237\u6267\u884C\u6B64\u64CD\u4F5C\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// \u8BBF\u5BA2\u6700\u591A 10 \u4E2A\u8BF7\u6C42\uFF0C\u7ECF\u8FC7\u8EAB\u4EFD\u9A8C\u8BC1\u7684\u7528\u6237\u6700\u591A 60 \u4E2A</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;throttle:10|60,1&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u6B64\u5916\uFF0C\u53EF\u4EE5\u6709\u4E00\u4E2A\u6570\u636E\u5E93\u5B57\u6BB5 <code>users.rate_limit</code> \u5E76\u9650\u5236\u7279\u5B9A\u7528\u6237\u7684\u6570\u91CF\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;auth:api&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;throttle:rate_limit,1&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/user&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u5411\u8DEF\u7531\u67E5\u8BE2\u5B57\u7B26\u4E32\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u5411\u8DEF\u7531\u67E5\u8BE2\u5B57\u7B26\u4E32\u53C2\u6570" aria-hidden="true">#</a> \u5411\u8DEF\u7531\u67E5\u8BE2\u5B57\u7B26\u4E32\u53C2\u6570</h2><p>\u5982\u679C\u5C06\u9644\u52A0\u53C2\u6570\u4F20\u9012\u7ED9\u8DEF\u7531\uFF0C\u5219\u5728\u6570\u7EC4\u4E2D\uFF0C\u8FD9\u4E9B\u952E/\u503C\u5BF9\u5C06\u81EA\u52A8\u6DFB\u52A0\u5230\u751F\u6210\u7684 URL \u7684\u67E5\u8BE2\u5B57\u7B26\u4E32\u4E2D\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user/{id}/profile&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;profile&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$url</span> <span class="token operator">=</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;profile&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;id&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;photos&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;yes&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result: /user/1/profile?photos=yes</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u7FFB\u8BD1\u8D44\u6E90\u52A8\u8BCD" tabindex="-1"><a class="header-anchor" href="#\u7FFB\u8BD1\u8D44\u6E90\u52A8\u8BCD" aria-hidden="true">#</a> \u7FFB\u8BD1\u8D44\u6E90\u52A8\u8BCD</h2><p>\u5982\u679C\u4F7F\u7528\u8D44\u6E90\u63A7\u5236\u5668\uFF0C\u4F46\u60F3\u5C06 URL \u52A8\u8BCD\u66F4\u6539\u4E3A\u975E\u82F1\u8BED\u4EE5\u7528\u4E8E SEO \u76EE\u7684\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>App\\Providers\\RouteServiceProvider</code> \u4E2D\u7684 <code>Route::resourceVerbs()</code> \u65B9\u6CD5\u5BF9\u5176\u8FDB\u884C\u914D\u7F6E\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resourceVerbs</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;create&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;crear&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;edit&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;editar&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u81EA\u5B9A\u4E49\u8D44\u6E90\u8DEF\u7531\u540D\u79F0" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u8D44\u6E90\u8DEF\u7531\u540D\u79F0" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u8D44\u6E90\u8DEF\u7531\u540D\u79F0</h2><p>\u4F7F\u7528\u8D44\u6E90\u63A7\u5236\u5668\u65F6\uFF0C\u53EF\u4EE5\u5728 <code>routes/web.php</code> \u4E2D\u6307\u5B9A <code>-&gt;names()</code> \u53C2\u6570\uFF0C\u8FD9\u6837\u6D4F\u89C8\u5668\u4E2D\u7684 URL \u524D\u7F00\u548C\u5728\u6574\u4E2A <code>Laravel</code> \u9879\u76EE\u4E2D\u4F7F\u7528\u7684\u8DEF\u7531\u540D\u79F0\u524D\u7F00\u53EF\u80FD\u4F1A\u6709\u6240\u4E0D\u540C\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;p&#39;</span><span class="token punctuation">,</span> <span class="token class-name static-context">ProductController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;products&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u6240\u4EE5\u4E0A\u9762\u7684\u8FD9\u6BB5\u4EE3\u7801\u4F1A\u751F\u6210\u50CF <code>/p</code>\u3001<code>/p/{id}</code>\u3001<code>/p/{id}/edit</code> \u7B49 URL\u3002\u4F46\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u901A\u8FC7 <code>route(&#39;products.index&#39;)</code>, <code>route(&#39;products.create&#39;)</code> \u7B49\u751F\u6210 URL\u3002</p><h2 id="\u66F4\u5177\u53EF\u8BFB\u6027\u7684\u8DEF\u7531\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#\u66F4\u5177\u53EF\u8BFB\u6027\u7684\u8DEF\u7531\u5217\u8868" aria-hidden="true">#</a> \u66F4\u5177\u53EF\u8BFB\u6027\u7684\u8DEF\u7531\u5217\u8868</h2><p>\u66FE\u7ECF\u8FD0\u884C\u8FC7 <code>php artisan route:list</code>\uFF0C\u7136\u540E\u610F\u8BC6\u5230\u8BE5\u5217\u8868\u5360\u7528\u4E86\u592A\u591A\u7A7A\u95F4\u4E14\u96BE\u4EE5\u9605\u8BFB\u3002</p><p>\u8FD9\u662F\u89E3\u51B3\u65B9\u6848\uFF1A <code>php artisan route:list --compact</code> \u7136\u540E\u5B83\u663E\u793A 3 \u5217\u800C\u4E0D\u662F\u9ED8\u8BA4\u7684 6 \u5217\uFF1A\u4EC5\u663E\u793A <code>Method</code> | <code>URI</code> | <code>Action</code>\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>+----------+---------------------------------+-------------------------------------------------------------------------+
| Method   | URI                             | Action                                                                  |
+----------+---------------------------------+-------------------------------------------------------------------------+
| GET|HEAD | /                               | Closure                                                                 |
| GET|HEAD | api/user                        | Closure                                                                 |
| POST     | confirm-password                | App\\Http\\Controllers\\Auth\\ConfirmablePasswordController@store           |
| GET|HEAD | confirm-password                | App\\Http\\Controllers\\Auth\\ConfirmablePasswordController@show            |
| GET|HEAD | dashboard                       | Closure                                                                 |
| POST     | email/verification-notification | App\\Http\\Controllers\\Auth\\EmailVerificationNotificationController@store |
| POST     | forgot-password                 | App\\Http\\Controllers\\Auth\\PasswordResetLinkController@store             |
| GET|HEAD | forgot-password                 | App\\Http\\Controllers\\Auth\\PasswordResetLinkController@create            |
| POST     | login                           | App\\Http\\Controllers\\Auth\\AuthenticatedSessionController@store          |
| GET|HEAD | login                           | App\\Http\\Controllers\\Auth\\AuthenticatedSessionController@create         |
| POST     | logout                          | App\\Http\\Controllers\\Auth\\AuthenticatedSessionController@destroy        |
| POST     | register                        | App\\Http\\Controllers\\Auth\\RegisteredUserController@store                |
| GET|HEAD | register                        | App\\Http\\Controllers\\Auth\\RegisteredUserController@create               |
| POST     | reset-password                  | App\\Http\\Controllers\\Auth\\NewPasswordController@store                   |
| GET|HEAD | reset-password/{token}          | App\\Http\\Controllers\\Auth\\NewPasswordController@create                  |
| GET|HEAD | verify-email                    | App\\Http\\Controllers\\Auth\\EmailVerificationPromptController@__invoke    |
| GET|HEAD | verify-email/{id}/{hash}        | App\\Http\\Controllers\\Auth\\VerifyEmailController@__invoke                |
+----------+---------------------------------+-------------------------------------------------------------------------+
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u8FD8\u53EF\u4EE5\u901A\u8FC7 <code>--columns</code> \u53C2\u6570\u6307\u5B9A\u6240\u9700\u7684\u786E\u5207\u5217\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>php artisan route:list --columns<span class="token operator">=</span>Method,URI,Name
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>+----------+---------------------------------+---------------------+
| Method   | URI                             | Name                |
+----------+---------------------------------+---------------------+
| GET|HEAD | /                               |                     |
| GET|HEAD | api/user                        |                     |
| POST     | confirm-password                |                     |
| GET|HEAD | confirm-password                | password.confirm    |
| GET|HEAD | dashboard                       | dashboard           |
| POST     | email/verification-notification | verification.send   |
| POST     | forgot-password                 | password.email      |
| GET|HEAD | forgot-password                 | password.request    |
| POST     | login                           |                     |
| GET|HEAD | login                           | login               |
| POST     | logout                          | logout              |
| POST     | register                        |                     |
| GET|HEAD | register                        | register            |
| POST     | reset-password                  | password.update     |
| GET|HEAD | reset-password/{token}          | password.reset      |
| GET|HEAD | verify-email                    | verification.notice |
| GET|HEAD | verify-email/{id}/{hash}        | verification.verify |
+----------+---------------------------------+---------------------+
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u6240\u6709\u652F\u6301\u7684\u5217\u5305\u542B\uFF1A<code>domain</code>\uFF0C<code>method</code>, <code>uri</code>, <code>name</code>, <code>action</code>, <code>middleware</code>\u3002</p><h2 id="\u5173\u8054\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u5173\u8054\u5173\u7CFB" aria-hidden="true">#</a> \u5173\u8054\u5173\u7CFB</h2><p>\u5982\u679C\u4F7F\u7528\u8DEF\u7531\u6A21\u578B\u7ED1\u5B9A\u5E76\u8BA4\u4E3A\u4E0D\u80FD\u5C06\u60F0\u6027\u52A0\u8F7D\u7528\u4E8E\u5173\u7CFB\uFF0C\u4F46\u662F\u6709\u4E00\u4E2A <code>belongsTo</code> \u5173\u7CFB\uFF0C\u4F7F\u7528 <code>-&gt;load()</code> \u52A0\u8F7D\u5173\u7CFB\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">show</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Product</span> <span class="token variable">$product</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$product</span><span class="token operator">-&gt;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;category&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="\u8F7B\u677E\u7A81\u51FA\u663E\u793A\u60A8\u7684\u5BFC\u822A\u680F\u83DC\u5355" tabindex="-1"><a class="header-anchor" href="#\u8F7B\u677E\u7A81\u51FA\u663E\u793A\u60A8\u7684\u5BFC\u822A\u680F\u83DC\u5355" aria-hidden="true">#</a> \u8F7B\u677E\u7A81\u51FA\u663E\u793A\u60A8\u7684\u5BFC\u822A\u680F\u83DC\u5355</h2><p>\u4F7F\u7528 <code>Route::is(&#39;route-name&#39;)</code> \u8F7B\u677E\u7A81\u51FA\u663E\u793A\u5BFC\u822A\u680F\u83DC\u5355\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li @<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;home&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;active&quot;</span> @<span class="token keyword">endif</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;/&quot;</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li @<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;contact-us&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;active&quot;</span> @<span class="token keyword">endif</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;/contact-us&quot;</span><span class="token operator">&gt;</span>Contact us<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5F53\u7136 <code>is</code> \u65B9\u6CD5\u652F\u6301\u6B63\u5219\u5339\u914D\uFF0C\u6BD4\u5982 <code>Route::is(&#39;posts*&#39;)</code> \u80FD\u5339\u914D <code>posts.index</code> \u548C <code>posts.show</code> \u7B49\u8DEF\u7531\u540D\u3002</p><h2 id="\u4F7F\u7528-route-\u65B9\u6CD5\u751F\u6210\u7EDD\u5BF9\u8DEF\u5F84" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-route-\u65B9\u6CD5\u751F\u6210\u7EDD\u5BF9\u8DEF\u5F84" aria-hidden="true">#</a> \u4F7F\u7528 <code>route()</code> \u65B9\u6CD5\u751F\u6210\u7EDD\u5BF9\u8DEF\u5F84</h2><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;page.show&#39;</span><span class="token punctuation">,</span> <span class="token variable">$page</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// http://localhost/pages/1</span>

<span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;page.show&#39;</span><span class="token punctuation">,</span> <span class="token variable">$page</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /pages/1</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="\u8986\u76D6\u6BCF\u4E2A\u6A21\u578B\u7684\u8DEF\u7531\u7ED1\u5B9A\u89E3\u6790\u5668" tabindex="-1"><a class="header-anchor" href="#\u8986\u76D6\u6BCF\u4E2A\u6A21\u578B\u7684\u8DEF\u7531\u7ED1\u5B9A\u89E3\u6790\u5668" aria-hidden="true">#</a> \u8986\u76D6\u6BCF\u4E2A\u6A21\u578B\u7684\u8DEF\u7531\u7ED1\u5B9A\u89E3\u6790\u5668</h2><p>\u53EF\u4EE5\u8986\u76D6\u6BCF\u4E2A\u6A21\u578B\u7684\u8DEF\u7531\u7ED1\u5B9A\u89E3\u6790\u5668\u3002\u5728\u6B64\u793A\u4F8B\u4E2D\uFF0C\u65E0\u6CD5\u63A7\u5236 <code>URL</code> \u4E2D\u7684 <code>@</code> \u7B26\u53F7\uFF0C\u56E0\u6B64\u4F7F\u7528 <code>resolveRouteBinding</code> \u65B9\u6CD5\uFF0C\u80FD\u591F\u5220\u9664 <code>@</code> \u7B26\u53F7\u5E76\u89E3\u6790\u6A21\u578B\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// \u8DEF\u7531\u5B9A\u4E49</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;{user}&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration"><span class="token punctuation">\\</span>App<span class="token punctuation">\\</span>Models<span class="token punctuation">\\</span>User</span> <span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">dd</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// User Model</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">resolveRouteBinding</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$field</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;@&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">resolveRouteBinding</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// \u8BF7\u6C42 http://localhost/@curder \u65F6\uFF0C\u8DEF\u7531\u53C2\u6570\u4F1A\u88AB\u8F6C\u6362\u6210 \`curder\`</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="\u53D7\u4FDD\u62A4\u7684url" tabindex="-1"><a class="header-anchor" href="#\u53D7\u4FDD\u62A4\u7684url" aria-hidden="true">#</a> \u53D7\u4FDD\u62A4\u7684URL</h2><p>\u5982\u679C\u9700\u8981\u516C\u5171 URL \u4F46\u53C8\u5E0C\u671B\u5B83\u4EEC\u53D7\u5230\u4FDD\u62A4\uFF0C\u4F7F\u7528 Laravel \u7B7E\u540D URL \u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">AccountController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">destroy</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$confirmDeleteUrl</span> <span class="token operator">=</span> <span class="token class-name static-context">URL</span><span class="token operator">::</span><span class="token function">signedRoute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;confirm-destroy&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token variable">$user</span> <span class="token operator">=&gt;</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Send link by email...</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">confirmDestroy</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">hasValidSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">abort</span><span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// User confirmed by clikcing on the email</span>
        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;home&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="\u5728\u4E2D\u95F4\u4EF6\u65B9\u6CD5\u4E2D\u4F7F\u7528-gate" tabindex="-1"><a class="header-anchor" href="#\u5728\u4E2D\u95F4\u4EF6\u65B9\u6CD5\u4E2D\u4F7F\u7528-gate" aria-hidden="true">#</a> \u5728\u4E2D\u95F4\u4EF6\u65B9\u6CD5\u4E2D\u4F7F\u7528 Gate</h2><p>\u53EF\u4EE5\u5728\u4E2D\u95F4\u4EF6\u65B9\u6CD5\u4E2D\u4F7F\u7528\u60A8\u5728 <code>App\\Providers\\AuthServiceProvider</code> \u4E2D\u6307\u5B9A\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// 1. \u8DEF\u7531\u5B9A\u4E49</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/post/{post}&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Post</span> <span class="token variable">$post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// The current user may update the post ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;can:update-post&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2. \u6388\u6743\u5B9A\u4E49</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\\</span>Policies<span class="token punctuation">\\</span>PostPolicy</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\\</span>Support<span class="token punctuation">\\</span>Facades<span class="token punctuation">\\</span>Gate</span><span class="token punctuation">;</span>
 
<span class="token doc-comment comment">/**
 * Register any authentication / authorization services.
 *
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">void</span></span>
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">registerPolicies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token class-name static-context">Gate</span><span class="token operator">::</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;update-post&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Post</span> <span class="token variable">$post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">id</span> <span class="token operator">===</span> <span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token property">user_id</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div>`,43),C={href:"https://laravel.com/docs/9.x/authorization",target:"_blank",rel:"noopener noreferrer"},_=n("Authorization"),P=a(`<h2 id="\u4F18\u5316\u8DEF\u7531\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u8DEF\u7531\u6587\u4EF6" aria-hidden="true">#</a> \u4F18\u5316\u8DEF\u7531\u6587\u4EF6</h2><p>\u521B\u5EFA\u4E00\u4E2A <code>/routes/web/</code> \u76EE\u5F55\uFF0C\u5E76\u4E14\u5728 <code>/routes/web.php</code> \u6587\u4EF6\u4E2D\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token function">glob</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">&#39;/web/*.php&#39;</span><span class="token punctuation">,</span> <span class="token constant">GLOB_NOSORT</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$route_file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">include</span> <span class="token variable">$route_file</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u73B0\u5728 <code>/routes/web/</code> \u4E2D\u7684\u6BCF\u4E2A\u6587\u4EF6\u90FD\u5145\u5F53\u8DEF\u7531\u5668\u6587\u4EF6\uFF0C\u53EF\u4EE5\u5C06\u8DEF\u7531\u7EC4\u7EC7\u5230\u4E0D\u540C\u7684\u6587\u4EF6\u4E2D\u3002</p><h2 id="\u8DEF\u7531\u8D44\u6E90\u5206\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u8D44\u6E90\u5206\u7EC4" aria-hidden="true">#</a> \u8DEF\u7531\u8D44\u6E90\u5206\u7EC4</h2><p>\u5982\u679C\u8DEF\u7531\u6709\u5F88\u591A\u8D44\u6E90\u63A7\u5236\u5668\uFF0C\u53EF\u4EE5\u5C06\u5B83\u4EEC\u5206\u7EC4\u5E76\u8C03\u7528\u4E00\u4E2A <code>Route::resources()</code> \u800C\u4E0D\u662F\u8BB8\u591A\u5355\u4E2A <code>Route::resource()</code> \u8BED\u53E5\u3002</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resources</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;photos&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">PhotoController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;posts&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">PostController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="\u81EA\u5B9A\u4E49\u8DEF\u7531\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u8DEF\u7531\u7ED1\u5B9A" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u8DEF\u7531\u7ED1\u5B9A</h2><p>\u5B9A\u4E49 Laravel \u5E94\u8BE5\u5982\u4F55\u4ECE\u8DEF\u7531\u53C2\u6570\u4E2D\u89E3\u6790\u5B83\u4EEC</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// RouteServiceProvider.php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">RouteServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;portfolio&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$slug</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name static-context">Portfolio</span><span class="token operator">::</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">whereBelongsto</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">whereSlug</span><span class="token punctuation">(</span><span class="token variable">$slug</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">firstOrFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;portfolios/{portfolio}&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Portfolio</span> <span class="token variable">$portfolio</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
     * The $portfolio will be the result of the query defined in the RouteServiceProvider
     */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,11);function $(E,H){const p=e("ExternalLinkIcon");return o(),c(l,null,[u,s("p",null,[k,s("a",d,[b,t(p)]),g,m,h,f,v]),w,s("p",null,[q,s("a",x,[y,t(p)]),R]),A,s("p",null,[s("a",C,[_,t(p)])]),P],64)}var L=i(r,[["render",$]]);export{L as default};
