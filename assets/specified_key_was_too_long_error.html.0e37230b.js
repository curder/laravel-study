import{o as s,c as a,b as r,F as l,e}from"./app.dad6a76d.js";import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";const c={},i=e(`<h2 id="laravel-5-\u6267\u884C\u8FC1\u79FB\u6587\u4EF6\u62A5\u9519-specified-key-was-too-long-error" tabindex="-1"><a class="header-anchor" href="#laravel-5-\u6267\u884C\u8FC1\u79FB\u6587\u4EF6\u62A5\u9519-specified-key-was-too-long-error" aria-hidden="true">#</a> Laravel 5.* \u6267\u884C\u8FC1\u79FB\u6587\u4EF6\u62A5\u9519\uFF1ASpecified key was too long error</h2><p>\u547D\u4EE4\u884C\u6267\u884C\u8FC1\u79FB\u6587\u4EF6\u65F6\uFF0C\u62A5\u9519 <code>Specified key was too long</code>\uFF0C\u5982\u679C\u6211\u4EEC\u4ED4\u7EC6\u68C0\u67E5\u9519\u8BEF\u4F1A\u53D1\u73B0\u662F\u552F\u4E00\u7D22\u5F15\u592A\u957F\u4E86\uFF0C\u62A5\u9519\u4FE1\u606F\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Illuminate\\Database\\QueryException]
SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was too long;
max key length is 767 bytes (SQL: alter table \`users\` add unique \`users_email_uniq
ue\`(\`email\`))



[PDOException]
SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was too long;
max key length is 767 bytes
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6211\u4EEC\u5F53\u7136\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u8FC1\u79FB\u6587\u4EF6\u6765\u4FEE\u6539\u5B57\u6BB5\u7684\u957F\u5EA6\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u8FC1\u79FB\u6587\u4EF6\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> $table-&gt;string(&#39;email&#39;,30)-&gt;unique();
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4E5F\u53EF\u4EE5\u4F7F\u7528\u66F4\u52A0\u901A\u7528\u7684\u529E\u6CD5\u6765\u5B8C\u6210\u3002\u7F16\u8F91 <code>AppServiceProvider.php</code> \u6587\u4EF6\u7684 <code>boot()</code> \u65B9\u6CD5\u3002\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>use Illuminate\\Support\\Facades\\Schema;

public function boot()
{
    Schema::defaultStringLength(191);
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u76F8\u5F53\u4E8E\u7ED9\u4E88<code>varchar</code>\u9ED8\u8BA4\u7684\u957F\u5EA6<strong>191</strong>\u3002</p><p>\u4FEE\u6539\u6570\u636E\u5E93\u7684\u5B57\u7B26\u96C6 \u5982\u56FE\uFF0C\u65B0\u7248\u7684Laravel 5.4 \u4F7F\u7528\u4E86 <code>utf8mb4</code> \u548C <code>utf8mb4_unicode_ci</code> \uFF0C\u8FD9\u4E2A\u5B57\u7B26\u96C6\u652F\u6301 <strong>emoji</strong></p>`,9),o=["src"],p=e(`<p>\u6211\u4EEC\u5C06\u4ED6\u6539\u6210\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;charset&#39; =&gt; &#39;utf8&#39;,
&#39;collation&#39; =&gt; &#39;utf8_general_ci&#39;,
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5EFA\u8BAE\u5728\u6570\u636E\u5E93\u8FC1\u79FB\u6587\u4EF6\u4E2D\u4F7F\u7528\u7B2C\u4E8C\u4E2A\u53C2\u6570\u6839\u636E\u4E1A\u52A1\u9700\u6C42\u6307\u5B9A\u5B57\u6BB5\u7684\u957F\u5EA6\uFF0C\u8FD9\u6837\u66F4\u52A0\u7684\u5207\u5408\u5B9E\u9645\u548C\u9700\u6C42\u3002</p></blockquote>`,3);function d(n,u){return s(),a(l,null,[i,r("img",{src:n.$withBase("/images/related_relationship/screenshot_1493026376620.png"),alt:""},null,8,o),p],64)}var g=t(c,[["render",d]]);export{g as default};
