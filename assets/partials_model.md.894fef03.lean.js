import{_ as c,D as o,o as r,c as D,G as n,B as l,O as e,z as s,a}from"./chunks/framework.5035f75f.js";const B=JSON.parse('{"title":"Model 模型","description":"","frontmatter":{},"headers":[],"relativePath":"partials/model.md","filePath":"partials/model.md","lastUpdated":1645444087000}'),F={name:"partials/model.md"},y=e("",133),C=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Model"),s("span",{style:{color:"#89DDFF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Prunable"),s("span",{style:{color:"#89DDFF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Flight"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Model")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Prunable"),s("span",{style:{color:"#89DDFF"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * Get the prunable model query.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Database"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Eloquent"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Builder")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"prunable"),s("span",{style:{color:"#89DDFF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"static"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"where"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"created_at"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"&lt;="),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"now"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"subMonth"),s("span",{style:{color:"#89DDFF"}},"());")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 此外，可以设置在删除模型之前必须执行的操作：")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"protected"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"pruning"),s("span",{style:{color:"#89DDFF"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 删除关联资源，例如文件")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#FFCB6B"}},"Storage"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"disk"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"s3"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"delete"),s("span",{style:{color:"#89DDFF"}},"($this->"),s("span",{style:{color:"#A6ACCD"}},"filename"),s("span",{style:{color:"#89DDFF"}},");")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")])])])],-1),A=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// App\\Console\\Kernel.php")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * Define the application's command schedule.")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," *")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@param"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Console"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Scheduling"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Schedule"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  $schedule")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"void")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"protected"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Schedule"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"command"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"model:prune"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"daily"),s("span",{style:{color:"#89DDFF"}},"();")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// $schedule->command('model:prune', ['--model' => [Address::class, Flight::class]])->daily(); // 指定特定模型参数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")])])])],-1),i=e("",56);function d(h,u,g,E,m,b){const p=o("CodeGroupItem"),t=o("CodeGroup");return r(),D("div",null,[y,n(t,null,{default:l(()=>[n(p,{title:"模型定义"},{default:l(()=>[C]),_:1}),n(p,{title:"定时任务"},{default:l(()=>[A]),_:1})]),_:1}),i])}const v=c(F,[["render",d]]);export{B as __pageData,v as default};
