import{_ as c,c as r,b as o,w as n,a as p,d as s,e as l,r as t,o as D}from"./app.4f96a5c9.js";const w=JSON.parse('{"title":"Testing 测试","description":"","frontmatter":{},"headers":[{"level":2,"title":"中间件","slug":"中间件","link":"#中间件","children":[]},{"level":2,"title":"测试是否将正确的数据传递给视图","slug":"测试是否将正确的数据传递给视图","link":"#测试是否将正确的数据传递给视图","children":[]},{"level":2,"title":"测试命令定时执行","slug":"测试命令定时执行","link":"#测试命令定时执行","children":[]}],"relativePath":"partials/testing.md","lastUpdated":1648088896000}'),F={name:"partials/testing.md"},y=p('<h1 id="testing-测试" tabindex="-1">Testing 测试 <a class="header-anchor" href="#testing-测试" aria-hidden="true">#</a></h1><h2 id="中间件" tabindex="-1">中间件 <a class="header-anchor" href="#中间件" aria-hidden="true">#</a></h2><p>这里以一个路由中间件作为示例。<a href="https://github.com/curder/laravel-testing-demo/tree/middleware" target="_blank" rel="noreferrer">源代码查看</a></p>',3),C=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// tests/Unit/Http/Middleware/RedirectMiddlewareTest.php")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"App"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Http"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Middleware"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"RedirectMiddleware"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"App"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Models"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Redirect"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Support"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Facades"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Route"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Symfony"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Component"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"HttpFoundation"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Response"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// 测试中间件逻辑是否正确")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"it"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"the middleware is in isolation"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"response "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#F78C6C"}},"new"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"RedirectMiddleware"),s("span",{style:{color:"#89DDFF"}},"())->"),s("span",{style:{color:"#82AAFF"}},"handle"),s("span",{style:{color:"#89DDFF"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#82AAFF"}},"createRequest"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"get"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#C792EA"}},"fn"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"new"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Response"),s("span",{style:{color:"#89DDFF"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#82AAFF"}},"expect"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"response"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"isRedirect"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"url"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/new-homepage"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")))->"),s("span",{style:{color:"#82AAFF"}},"toBeFalse"),s("span",{style:{color:"#89DDFF"}},"();"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 未配置跳转时，访问页面不会跳转")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#FFCB6B"}},"Redirect"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"factory"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#89DDFF"}},"([")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"from"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"to"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/new-homepage"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"]);")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"response "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#F78C6C"}},"new"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"RedirectMiddleware"),s("span",{style:{color:"#89DDFF"}},"())->"),s("span",{style:{color:"#82AAFF"}},"handle"),s("span",{style:{color:"#89DDFF"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#82AAFF"}},"createRequest"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"get"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#C792EA"}},"fn"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"new"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Response"),s("span",{style:{color:"#89DDFF"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#82AAFF"}},"expect"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"response"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"isRedirect"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"url"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/new-homepage"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")))->"),s("span",{style:{color:"#82AAFF"}},"toBeTrue"),s("span",{style:{color:"#89DDFF"}},"();"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 正确配置了跳转时，访问页面会跳转")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"});")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// 测试中间件能正常工作")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"it"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"will preform the right redirects"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#FFCB6B"}},"Route"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"get"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"my-test-router"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"fn"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"ok"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"middleware"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"RedirectMiddleware"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#F78C6C"}},"class"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$this->"),s("span",{style:{color:"#82AAFF"}},"get"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/my-test-router"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"assertOk"),s("span",{style:{color:"#89DDFF"}},"();")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#FFCB6B"}},"Redirect"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"factory"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#89DDFF"}},"([")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"from"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/my-test-router"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"to"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/new-homepage"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"]);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$this->"),s("span",{style:{color:"#82AAFF"}},"get"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/my-test-router"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"assertRedirect"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/new-homepage"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"});")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"createRequest"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"method"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"uri"),s("span",{style:{color:"#89DDFF"}},"):"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Http"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Request")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"symfony_request "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Symfony"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Component"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"HttpFoundation"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Request"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#89DDFF"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"uri"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"method"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Http"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Request"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"createFromBase"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"symfony_request"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),A=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight has-highlighted-lines",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// app\\Http\\Middleware\\RedirectMiddleware.php")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"namespace"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"App"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Http"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Middleware"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"App"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Models"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Redirect"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Closure"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Http"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Request"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"RedirectMiddleware")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * Handle an incoming request.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     *")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@param"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Http"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Request"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  $request")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@param"),s("span",{style:{color:"#676E95","font-style":"italic"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Closure"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"(\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Http"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Request"),s("span",{style:{color:"#676E95","font-style":"italic"}},"): "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"(\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Http"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Response"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"|\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Http"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"RedirectResponse"),s("span",{style:{color:"#676E95","font-style":"italic"}},")  $"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"next")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * @"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Http"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Response"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"|\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Illuminate"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"Http"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"\\"),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"RedirectResponse")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"handle"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Request"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"request"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Closure"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"next"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"path "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"parse_url"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"request"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"fullUrl"),s("span",{style:{color:"#89DDFF"}},"(),"),s("span",{style:{color:"#A6ACCD"}}," PHP_URL_PATH"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"??"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line highlighted"}),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"redirect "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Redirect"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"query"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"where"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"from"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"path"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"first"),s("span",{style:{color:"#89DDFF"}},"();")]),l(`
`),s("span",{class:"line highlighted"}),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"if"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"(!"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"redirect"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"next"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"request"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line highlighted"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line highlighted"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"response"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"redirectTo"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"redirect"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#A6ACCD"}},"to"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),i=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// app/Models/Redirect.php")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"namespace"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"App"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Models"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Factories"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"HasFactory"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Model"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Redirect"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Model")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"HasFactory"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),d=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// database/migrations/2022_03_23_121330_create_redirects_table.php")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Migrations"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Migration"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Schema"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Blueprint"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Support"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Facades"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Schema"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"CreateRedirectsTable"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Migration")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * Run the migrations.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     *")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"void")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"up"),s("span",{style:{color:"#89DDFF"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#FFCB6B"}},"Schema"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"redirects"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Blueprint"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"table"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"table"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"id"),s("span",{style:{color:"#89DDFF"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"table"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"string"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"from"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"table"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"string"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"to"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"table"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"timestamps"),s("span",{style:{color:"#89DDFF"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"});")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * Reverse the migrations.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     *")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"void")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"down"),s("span",{style:{color:"#89DDFF"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#FFCB6B"}},"Schema"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"dropIfExists"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"redirects"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),u=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// database/factories/RedirectFactory.php")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"namespace"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Factories"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Database"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Eloquent"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Factories"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Factory"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"RedirectFactory"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Factory")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * Define the model's default state.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     *")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     * "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@return"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"array")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"     */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"definition"),s("span",{style:{color:"#89DDFF"}},"():"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"array")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"[")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"from"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"parse_url"),s("span",{style:{color:"#89DDFF"}},"($this->"),s("span",{style:{color:"#A6ACCD"}},"faker"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"unique"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"url"),s("span",{style:{color:"#89DDFF"}},"(),"),s("span",{style:{color:"#A6ACCD"}}," PHP_URL_PATH"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"to"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"parse_url"),s("span",{style:{color:"#89DDFF"}},"($this->"),s("span",{style:{color:"#A6ACCD"}},"faker"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"unique"),s("span",{style:{color:"#89DDFF"}},"()->"),s("span",{style:{color:"#82AAFF"}},"url"),s("span",{style:{color:"#89DDFF"}},"(),"),s("span",{style:{color:"#A6ACCD"}}," PHP_URL_PATH"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"];")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),h=p(`<h2 id="测试是否将正确的数据传递给视图" tabindex="-1">测试是否将正确的数据传递给视图 <a class="header-anchor" href="#测试是否将正确的数据传递给视图" aria-hidden="true">#</a></h2><p>需要测试是否将正确的数据传递给视图？可以在响应中使用 <code>viewData</code> 方法。</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">/** @test */</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">it_has_the_correct_value</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">response </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/some-route</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">John Doe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">viewData</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/** @test */</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">it_contains_a_given_record</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">response </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/some-route</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertTrue</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">viewData</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">contains</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">userA</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/** @test */</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">it_returns_the_correct_amount_of_records</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">response </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/some-route</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">assertCount</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">viewData</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="测试命令定时执行" tabindex="-1">测试命令定时执行 <a class="header-anchor" href="#测试命令定时执行" aria-hidden="true">#</a></h2><p>断言定时任务一定会按照指定的规则执行。</p>`,5),f=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// App\\Console\\Kernel")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"namespace"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"App"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Console"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Console"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Scheduling"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Schedule"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Foundation"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Console"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Kernel"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#F78C6C"}},"as"),s("span",{style:{color:"#FFCB6B"}}," ConsoleKernel"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Support"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Str"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Kernel"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"ConsoleKernel")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Console"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Scheduling"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Schedule"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Foundation"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Console"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Kernel"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#F78C6C"}},"as"),s("span",{style:{color:"#FFCB6B"}}," ConsoleKernel"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"protected"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Schedule"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"command"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"check:api-token"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"dailyAt"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"10:00"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},");"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 检查是否需要发送apiToken到期通知")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),B=s("div",{class:"language-php"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"php"),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// Test")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"<?"),s("span",{style:{color:"#A6ACCD"}},"php")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"namespace"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"Tests"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Integrations"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#FFCB6B"}},"Console"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Tests"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"TestCase"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Support"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Str"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Console"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Scheduling"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Event"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"use"),s("span",{style:{color:"#FFCB6B"}}," "),s("span",{style:{color:"#A6ACCD"}},"Illuminate"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Console"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Scheduling"),s("span",{style:{color:"#89DDFF"}},"\\"),s("span",{style:{color:"#A6ACCD"}},"Schedule"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"KernelTest"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"extends"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"TestCase")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/** @test */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"check_api_token_command_is_scheduled_at_10am"),s("span",{style:{color:"#89DDFF"}},"():"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"void")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"schedule "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"app"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Schedule"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#F78C6C"}},"class"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"/** "),s("span",{style:{color:"#F78C6C","font-style":"italic"}},"@var"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"Event"),s("span",{style:{color:"#676E95","font-style":"italic"}}," $event */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"event "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"collect"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"schedule"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"events"),s("span",{style:{color:"#89DDFF"}},"())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#82AAFF"}},"filter"),s("span",{style:{color:"#89DDFF"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"                "),s("span",{style:{color:"#C792EA"}},"fn"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Event"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"event"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=>"),s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#FFCB6B"}},"Str"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#82AAFF"}},"containsAll"),s("span",{style:{color:"#89DDFF"}},"($"),s("span",{style:{color:"#A6ACCD"}},"event"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#A6ACCD"}},"command"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"check:api_token"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},"]),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"            "),s("span",{style:{color:"#89DDFF"}},")->"),s("span",{style:{color:"#82AAFF"}},"first"),s("span",{style:{color:"#89DDFF"}},"();")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$this->"),s("span",{style:{color:"#82AAFF"}},"assertInstanceOf"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Event"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#F78C6C"}},"class"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"event"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#89DDFF"}},"$this->"),s("span",{style:{color:"#82AAFF"}},"assertEquals"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"0 10 * * *"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"event"),s("span",{style:{color:"#89DDFF"}},"->"),s("span",{style:{color:"#A6ACCD"}},"expression"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),E=s("p",null,[l("其他的简单测试示例代码 "),s("a",{href:"https://github.com/curder/laravel-console-command-test-demo",target:"_blank",rel:"noreferrer"},"curder/laravel-console-command-test-demo"),l(" 。")],-1);function m(_,g,$,b,R,v){const a=t("CodeGroupItem"),e=t("CodeGroup");return D(),r("div",null,[y,o(e,null,{default:n(()=>[o(a,{title:"测试"},{default:n(()=>[C]),_:1}),o(a,{title:"定义"},{default:n(()=>[A]),_:1}),o(a,{title:"模型文件"},{default:n(()=>[i]),_:1}),o(a,{title:"迁移文件"},{default:n(()=>[d]),_:1}),o(a,{title:"Factory文件"},{default:n(()=>[u]),_:1})]),_:1}),h,o(e,null,{default:n(()=>[o(a,{title:"App\\Console\\Kernel.php"},{default:n(()=>[f]),_:1}),o(a,{title:"Tests\\Integrations\\Console\\KernelTest.php"},{default:n(()=>[B]),_:1})]),_:1}),E])}const T=c(F,[["render",m]]);export{w as __pageData,T as default};
